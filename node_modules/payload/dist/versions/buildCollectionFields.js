"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "buildVersionCollectionFields", {
    enumerable: true,
    get: function() {
        return buildVersionCollectionFields;
    }
});
const buildVersionCollectionFields = (collection)=>{
    const fields = [
        {
            name: 'parent',
            index: true,
            relationTo: collection.slug,
            type: 'relationship'
        },
        {
            name: 'version',
            fields: collection.fields,
            type: 'group'
        },
        {
            name: 'createdAt',
            admin: {
                disabled: true
            },
            index: true,
            type: 'date'
        },
        {
            name: 'updatedAt',
            admin: {
                disabled: true
            },
            index: true,
            type: 'date'
        }
    ];
    if (collection?.versions?.drafts) {
        fields.push({
            name: 'latest',
            admin: {
                disabled: true
            },
            index: true,
            type: 'checkbox'
        });
    }
    if (collection?.versions?.drafts && collection?.versions?.drafts?.autosave) {
        fields.push({
            name: 'autosave',
            index: true,
            type: 'checkbox'
        });
    }
    return fields;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy92ZXJzaW9ucy9idWlsZENvbGxlY3Rpb25GaWVsZHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBTYW5pdGl6ZWRDb2xsZWN0aW9uQ29uZmlnIH0gZnJvbSAnLi4vY29sbGVjdGlvbnMvY29uZmlnL3R5cGVzJ1xuaW1wb3J0IHR5cGUgeyBGaWVsZCB9IGZyb20gJy4uL2ZpZWxkcy9jb25maWcvdHlwZXMnXG5cbmV4cG9ydCBjb25zdCBidWlsZFZlcnNpb25Db2xsZWN0aW9uRmllbGRzID0gKGNvbGxlY3Rpb246IFNhbml0aXplZENvbGxlY3Rpb25Db25maWcpOiBGaWVsZFtdID0+IHtcbiAgY29uc3QgZmllbGRzOiBGaWVsZFtdID0gW1xuICAgIHtcbiAgICAgIG5hbWU6ICdwYXJlbnQnLFxuICAgICAgaW5kZXg6IHRydWUsXG4gICAgICByZWxhdGlvblRvOiBjb2xsZWN0aW9uLnNsdWcsXG4gICAgICB0eXBlOiAncmVsYXRpb25zaGlwJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICd2ZXJzaW9uJyxcbiAgICAgIGZpZWxkczogY29sbGVjdGlvbi5maWVsZHMsXG4gICAgICB0eXBlOiAnZ3JvdXAnLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ2NyZWF0ZWRBdCcsXG4gICAgICBhZG1pbjoge1xuICAgICAgICBkaXNhYmxlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBpbmRleDogdHJ1ZSxcbiAgICAgIHR5cGU6ICdkYXRlJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICd1cGRhdGVkQXQnLFxuICAgICAgYWRtaW46IHtcbiAgICAgICAgZGlzYWJsZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAgaW5kZXg6IHRydWUsXG4gICAgICB0eXBlOiAnZGF0ZScsXG4gICAgfSxcbiAgXVxuXG4gIGlmIChjb2xsZWN0aW9uPy52ZXJzaW9ucz8uZHJhZnRzKSB7XG4gICAgZmllbGRzLnB1c2goe1xuICAgICAgbmFtZTogJ2xhdGVzdCcsXG4gICAgICBhZG1pbjoge1xuICAgICAgICBkaXNhYmxlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBpbmRleDogdHJ1ZSxcbiAgICAgIHR5cGU6ICdjaGVja2JveCcsXG4gICAgfSlcbiAgfVxuXG4gIGlmIChjb2xsZWN0aW9uPy52ZXJzaW9ucz8uZHJhZnRzICYmIGNvbGxlY3Rpb24/LnZlcnNpb25zPy5kcmFmdHM/LmF1dG9zYXZlKSB7XG4gICAgZmllbGRzLnB1c2goe1xuICAgICAgbmFtZTogJ2F1dG9zYXZlJyxcbiAgICAgIGluZGV4OiB0cnVlLFxuICAgICAgdHlwZTogJ2NoZWNrYm94JyxcbiAgICB9KVxuICB9XG5cbiAgcmV0dXJuIGZpZWxkc1xufVxuIl0sIm5hbWVzIjpbImJ1aWxkVmVyc2lvbkNvbGxlY3Rpb25GaWVsZHMiLCJjb2xsZWN0aW9uIiwiZmllbGRzIiwibmFtZSIsImluZGV4IiwicmVsYXRpb25UbyIsInNsdWciLCJ0eXBlIiwiYWRtaW4iLCJkaXNhYmxlZCIsInZlcnNpb25zIiwiZHJhZnRzIiwicHVzaCIsImF1dG9zYXZlIl0sIm1hcHBpbmdzIjoiOzs7OytCQUdhQTs7O2VBQUFBOzs7QUFBTixNQUFNQSwrQkFBK0IsQ0FBQ0M7SUFDM0MsTUFBTUMsU0FBa0I7UUFDdEI7WUFDRUMsTUFBTTtZQUNOQyxPQUFPO1lBQ1BDLFlBQVlKLFdBQVdLLElBQUk7WUFDM0JDLE1BQU07UUFDUjtRQUNBO1lBQ0VKLE1BQU07WUFDTkQsUUFBUUQsV0FBV0MsTUFBTTtZQUN6QkssTUFBTTtRQUNSO1FBQ0E7WUFDRUosTUFBTTtZQUNOSyxPQUFPO2dCQUNMQyxVQUFVO1lBQ1o7WUFDQUwsT0FBTztZQUNQRyxNQUFNO1FBQ1I7UUFDQTtZQUNFSixNQUFNO1lBQ05LLE9BQU87Z0JBQ0xDLFVBQVU7WUFDWjtZQUNBTCxPQUFPO1lBQ1BHLE1BQU07UUFDUjtLQUNEO0lBRUQsSUFBSU4sWUFBWVMsVUFBVUMsUUFBUTtRQUNoQ1QsT0FBT1UsSUFBSSxDQUFDO1lBQ1ZULE1BQU07WUFDTkssT0FBTztnQkFDTEMsVUFBVTtZQUNaO1lBQ0FMLE9BQU87WUFDUEcsTUFBTTtRQUNSO0lBQ0Y7SUFFQSxJQUFJTixZQUFZUyxVQUFVQyxVQUFVVixZQUFZUyxVQUFVQyxRQUFRRSxVQUFVO1FBQzFFWCxPQUFPVSxJQUFJLENBQUM7WUFDVlQsTUFBTTtZQUNOQyxPQUFPO1lBQ1BHLE1BQU07UUFDUjtJQUNGO0lBRUEsT0FBT0w7QUFDVCJ9