/* eslint-disable no-param-reassign */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return findVersionByIDResolver;
    }
});
const _isolateTransactionID = /*#__PURE__*/ _interop_require_default(require("../../../utilities/isolateTransactionID"));
const _findVersionByID = /*#__PURE__*/ _interop_require_default(require("../../operations/findVersionByID"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function findVersionByIDResolver(globalConfig) {
    return async function resolver(_, args, context) {
        if (args.locale) context.req.locale = args.locale;
        if (args.fallbackLocale) context.req.fallbackLocale = args.fallbackLocale;
        const options = {
            id: args.id,
            depth: 0,
            draft: args.draft,
            globalConfig,
            req: (0, _isolateTransactionID.default)(context.req)
        };
        const result = await (0, _findVersionByID.default)(options);
        return result;
    };
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9nbG9iYWxzL2dyYXBocWwvcmVzb2x2ZXJzL2ZpbmRWZXJzaW9uQnlJRC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuaW1wb3J0IHR5cGUgeyBSZXNwb25zZSB9IGZyb20gJ2V4cHJlc3MnXG5cbmltcG9ydCB0eXBlIHsgUGF5bG9hZFJlcXVlc3QgfSBmcm9tICcuLi8uLi8uLi9leHByZXNzL3R5cGVzJ1xuaW1wb3J0IHR5cGUgeyBEb2N1bWVudCB9IGZyb20gJy4uLy4uLy4uL3R5cGVzJ1xuaW1wb3J0IHR5cGUgeyBTYW5pdGl6ZWRHbG9iYWxDb25maWcgfSBmcm9tICcuLi8uLi9jb25maWcvdHlwZXMnXG5cbmltcG9ydCBpc29sYXRlVHJhbnNhY3Rpb25JRCBmcm9tICcuLi8uLi8uLi91dGlsaXRpZXMvaXNvbGF0ZVRyYW5zYWN0aW9uSUQnXG5pbXBvcnQgZmluZFZlcnNpb25CeUlEIGZyb20gJy4uLy4uL29wZXJhdGlvbnMvZmluZFZlcnNpb25CeUlEJ1xuXG5leHBvcnQgdHlwZSBSZXNvbHZlciA9IChcbiAgXzogdW5rbm93bixcbiAgYXJnczoge1xuICAgIGRyYWZ0PzogYm9vbGVhblxuICAgIGZhbGxiYWNrTG9jYWxlPzogc3RyaW5nXG4gICAgaWQ6IG51bWJlciB8IHN0cmluZ1xuICAgIGxvY2FsZT86IHN0cmluZ1xuICB9LFxuICBjb250ZXh0OiB7XG4gICAgcmVxOiBQYXlsb2FkUmVxdWVzdFxuICAgIHJlczogUmVzcG9uc2VcbiAgfSxcbikgPT4gUHJvbWlzZTxEb2N1bWVudD5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZmluZFZlcnNpb25CeUlEUmVzb2x2ZXIoZ2xvYmFsQ29uZmlnOiBTYW5pdGl6ZWRHbG9iYWxDb25maWcpOiBSZXNvbHZlciB7XG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiByZXNvbHZlcihfLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgaWYgKGFyZ3MubG9jYWxlKSBjb250ZXh0LnJlcS5sb2NhbGUgPSBhcmdzLmxvY2FsZVxuICAgIGlmIChhcmdzLmZhbGxiYWNrTG9jYWxlKSBjb250ZXh0LnJlcS5mYWxsYmFja0xvY2FsZSA9IGFyZ3MuZmFsbGJhY2tMb2NhbGVcblxuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICBpZDogYXJncy5pZCxcbiAgICAgIGRlcHRoOiAwLFxuICAgICAgZHJhZnQ6IGFyZ3MuZHJhZnQsXG4gICAgICBnbG9iYWxDb25maWcsXG4gICAgICByZXE6IGlzb2xhdGVUcmFuc2FjdGlvbklEKGNvbnRleHQucmVxKSxcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBmaW5kVmVyc2lvbkJ5SUQob3B0aW9ucylcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJmaW5kVmVyc2lvbkJ5SURSZXNvbHZlciIsImdsb2JhbENvbmZpZyIsInJlc29sdmVyIiwiXyIsImFyZ3MiLCJjb250ZXh0IiwibG9jYWxlIiwicmVxIiwiZmFsbGJhY2tMb2NhbGUiLCJvcHRpb25zIiwiaWQiLCJkZXB0aCIsImRyYWZ0IiwiaXNvbGF0ZVRyYW5zYWN0aW9uSUQiLCJyZXN1bHQiLCJmaW5kVmVyc2lvbkJ5SUQiXSwibWFwcGluZ3MiOiJBQUFBLG9DQUFvQzs7OzsrQkF3QnBDOzs7ZUFBd0JBOzs7NkVBakJTO3dFQUNMOzs7Ozs7QUFnQmIsU0FBU0Esd0JBQXdCQyxZQUFtQztJQUNqRixPQUFPLGVBQWVDLFNBQVNDLENBQUMsRUFBRUMsSUFBSSxFQUFFQyxPQUFPO1FBQzdDLElBQUlELEtBQUtFLE1BQU0sRUFBRUQsUUFBUUUsR0FBRyxDQUFDRCxNQUFNLEdBQUdGLEtBQUtFLE1BQU07UUFDakQsSUFBSUYsS0FBS0ksY0FBYyxFQUFFSCxRQUFRRSxHQUFHLENBQUNDLGNBQWMsR0FBR0osS0FBS0ksY0FBYztRQUV6RSxNQUFNQyxVQUFVO1lBQ2RDLElBQUlOLEtBQUtNLEVBQUU7WUFDWEMsT0FBTztZQUNQQyxPQUFPUixLQUFLUSxLQUFLO1lBQ2pCWDtZQUNBTSxLQUFLTSxJQUFBQSw2QkFBb0IsRUFBQ1IsUUFBUUUsR0FBRztRQUN2QztRQUVBLE1BQU1PLFNBQVMsTUFBTUMsSUFBQUEsd0JBQWUsRUFBQ047UUFDckMsT0FBT0s7SUFDVDtBQUNGIn0=