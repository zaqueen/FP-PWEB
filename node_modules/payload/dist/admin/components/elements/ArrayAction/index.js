"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "ArrayAction", {
    enumerable: true,
    get: function() {
        return ArrayAction;
    }
});
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _reacti18next = require("react-i18next");
const _Chevron = /*#__PURE__*/ _interop_require_default(require("../../icons/Chevron"));
const _Copy = /*#__PURE__*/ _interop_require_default(require("../../icons/Copy"));
const _More = /*#__PURE__*/ _interop_require_default(require("../../icons/More"));
const _Plus = /*#__PURE__*/ _interop_require_default(require("../../icons/Plus"));
const _X = /*#__PURE__*/ _interop_require_default(require("../../icons/X"));
const _Popup = /*#__PURE__*/ _interop_require_default(require("../Popup"));
const _PopupButtonList = /*#__PURE__*/ _interop_require_wildcard(require("../Popup/PopupButtonList"));
require("./index.scss");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {};
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
const baseClass = 'array-actions';
const ArrayAction = ({ addRow, duplicateRow, hasMaxRows, index, moveRow, removeRow, rowCount })=>{
    const { t } = (0, _reacti18next.useTranslation)('general');
    return /*#__PURE__*/ _react.default.createElement(_Popup.default, {
        button: /*#__PURE__*/ _react.default.createElement(_More.default, null),
        buttonClassName: `${baseClass}__button`,
        className: baseClass,
        horizontalAlign: "center",
        render: ({ close })=>{
            return /*#__PURE__*/ _react.default.createElement(_PopupButtonList.ButtonGroup, {
                buttonSize: "small"
            }, index !== 0 && /*#__PURE__*/ _react.default.createElement(_PopupButtonList.Button, {
                className: `${baseClass}__action ${baseClass}__move-up`,
                onClick: ()=>{
                    moveRow(index, index - 1);
                    close();
                }
            }, /*#__PURE__*/ _react.default.createElement("div", {
                className: `${baseClass}__action-chevron`
            }, /*#__PURE__*/ _react.default.createElement(_Chevron.default, {
                direction: "up"
            })), t('moveUp')), index < rowCount - 1 && /*#__PURE__*/ _react.default.createElement(_PopupButtonList.Button, {
                className: `${baseClass}__action`,
                onClick: ()=>{
                    moveRow(index, index + 1);
                    close();
                }
            }, /*#__PURE__*/ _react.default.createElement("div", {
                className: `${baseClass}__action-chevron`
            }, /*#__PURE__*/ _react.default.createElement(_Chevron.default, null)), t('moveDown')), !hasMaxRows && /*#__PURE__*/ _react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/ _react.default.createElement(_PopupButtonList.Button, {
                className: `${baseClass}__action ${baseClass}__add`,
                onClick: ()=>{
                    addRow(index + 1);
                    close();
                }
            }, /*#__PURE__*/ _react.default.createElement(_Plus.default, null), t('addBelow')), /*#__PURE__*/ _react.default.createElement(_PopupButtonList.Button, {
                className: `${baseClass}__action ${baseClass}__duplicate`,
                onClick: ()=>{
                    duplicateRow(index);
                    close();
                }
            }, /*#__PURE__*/ _react.default.createElement(_Copy.default, null), t('duplicate'))), /*#__PURE__*/ _react.default.createElement(_PopupButtonList.Button, {
                className: `${baseClass}__action ${baseClass}__remove`,
                onClick: ()=>{
                    removeRow(index);
                    close();
                }
            }, /*#__PURE__*/ _react.default.createElement(_X.default, null), t('remove')));
        },
        size: "medium"
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9hZG1pbi9jb21wb25lbnRzL2VsZW1lbnRzL0FycmF5QWN0aW9uL2luZGV4LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnXG5cbmltcG9ydCB0eXBlIHsgUHJvcHMgfSBmcm9tICcuL3R5cGVzJ1xuXG5pbXBvcnQgQ2hldnJvbiBmcm9tICcuLi8uLi9pY29ucy9DaGV2cm9uJ1xuaW1wb3J0IENvcHkgZnJvbSAnLi4vLi4vaWNvbnMvQ29weSdcbmltcG9ydCBNb3JlIGZyb20gJy4uLy4uL2ljb25zL01vcmUnXG5pbXBvcnQgUGx1cyBmcm9tICcuLi8uLi9pY29ucy9QbHVzJ1xuaW1wb3J0IFggZnJvbSAnLi4vLi4vaWNvbnMvWCdcbmltcG9ydCBQb3B1cCBmcm9tICcuLi9Qb3B1cCdcbmltcG9ydCAqIGFzIFBvcHVwTGlzdCBmcm9tICcuLi9Qb3B1cC9Qb3B1cEJ1dHRvbkxpc3QnXG5pbXBvcnQgJy4vaW5kZXguc2NzcydcblxuY29uc3QgYmFzZUNsYXNzID0gJ2FycmF5LWFjdGlvbnMnXG5cbmV4cG9ydCBjb25zdCBBcnJheUFjdGlvbjogUmVhY3QuRkM8UHJvcHM+ID0gKHtcbiAgYWRkUm93LFxuICBkdXBsaWNhdGVSb3csXG4gIGhhc01heFJvd3MsXG4gIGluZGV4LFxuICBtb3ZlUm93LFxuICByZW1vdmVSb3csXG4gIHJvd0NvdW50LFxufSkgPT4ge1xuICBjb25zdCB7IHQgfSA9IHVzZVRyYW5zbGF0aW9uKCdnZW5lcmFsJylcbiAgcmV0dXJuIChcbiAgICA8UG9wdXBcbiAgICAgIGJ1dHRvbj17PE1vcmUgLz59XG4gICAgICBidXR0b25DbGFzc05hbWU9e2Ake2Jhc2VDbGFzc31fX2J1dHRvbmB9XG4gICAgICBjbGFzc05hbWU9e2Jhc2VDbGFzc31cbiAgICAgIGhvcml6b250YWxBbGlnbj1cImNlbnRlclwiXG4gICAgICByZW5kZXI9eyh7IGNsb3NlIH0pID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8UG9wdXBMaXN0LkJ1dHRvbkdyb3VwIGJ1dHRvblNpemU9XCJzbWFsbFwiPlxuICAgICAgICAgICAge2luZGV4ICE9PSAwICYmIChcbiAgICAgICAgICAgICAgPFBvcHVwTGlzdC5CdXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake2Jhc2VDbGFzc31fX2FjdGlvbiAke2Jhc2VDbGFzc31fX21vdmUtdXBgfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIG1vdmVSb3coaW5kZXgsIGluZGV4IC0gMSlcbiAgICAgICAgICAgICAgICAgIGNsb3NlKClcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake2Jhc2VDbGFzc31fX2FjdGlvbi1jaGV2cm9uYH0+XG4gICAgICAgICAgICAgICAgICA8Q2hldnJvbiBkaXJlY3Rpb249XCJ1cFwiIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAge3QoJ21vdmVVcCcpfVxuICAgICAgICAgICAgICA8L1BvcHVwTGlzdC5CdXR0b24+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAge2luZGV4IDwgcm93Q291bnQgLSAxICYmIChcbiAgICAgICAgICAgICAgPFBvcHVwTGlzdC5CdXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake2Jhc2VDbGFzc31fX2FjdGlvbmB9XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgbW92ZVJvdyhpbmRleCwgaW5kZXggKyAxKVxuICAgICAgICAgICAgICAgICAgY2xvc2UoKVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7YmFzZUNsYXNzfV9fYWN0aW9uLWNoZXZyb25gfT5cbiAgICAgICAgICAgICAgICAgIDxDaGV2cm9uIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAge3QoJ21vdmVEb3duJyl9XG4gICAgICAgICAgICAgIDwvUG9wdXBMaXN0LkJ1dHRvbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7IWhhc01heFJvd3MgJiYgKFxuICAgICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgICAgICAgPFBvcHVwTGlzdC5CdXR0b25cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7YmFzZUNsYXNzfV9fYWN0aW9uICR7YmFzZUNsYXNzfV9fYWRkYH1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWRkUm93KGluZGV4ICsgMSlcbiAgICAgICAgICAgICAgICAgICAgY2xvc2UoKVxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8UGx1cyAvPlxuICAgICAgICAgICAgICAgICAge3QoJ2FkZEJlbG93Jyl9XG4gICAgICAgICAgICAgICAgPC9Qb3B1cExpc3QuQnV0dG9uPlxuICAgICAgICAgICAgICAgIDxQb3B1cExpc3QuQnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake2Jhc2VDbGFzc31fX2FjdGlvbiAke2Jhc2VDbGFzc31fX2R1cGxpY2F0ZWB9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGR1cGxpY2F0ZVJvdyhpbmRleClcbiAgICAgICAgICAgICAgICAgICAgY2xvc2UoKVxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8Q29weSAvPlxuICAgICAgICAgICAgICAgICAge3QoJ2R1cGxpY2F0ZScpfVxuICAgICAgICAgICAgICAgIDwvUG9wdXBMaXN0LkJ1dHRvbj5cbiAgICAgICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8UG9wdXBMaXN0LkJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake2Jhc2VDbGFzc31fX2FjdGlvbiAke2Jhc2VDbGFzc31fX3JlbW92ZWB9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICByZW1vdmVSb3coaW5kZXgpXG4gICAgICAgICAgICAgICAgY2xvc2UoKVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8WCAvPlxuICAgICAgICAgICAgICB7dCgncmVtb3ZlJyl9XG4gICAgICAgICAgICA8L1BvcHVwTGlzdC5CdXR0b24+XG4gICAgICAgICAgPC9Qb3B1cExpc3QuQnV0dG9uR3JvdXA+XG4gICAgICAgIClcbiAgICAgIH19XG4gICAgICBzaXplPVwibWVkaXVtXCJcbiAgICAvPlxuICApXG59XG4iXSwibmFtZXMiOlsiQXJyYXlBY3Rpb24iLCJiYXNlQ2xhc3MiLCJhZGRSb3ciLCJkdXBsaWNhdGVSb3ciLCJoYXNNYXhSb3dzIiwiaW5kZXgiLCJtb3ZlUm93IiwicmVtb3ZlUm93Iiwicm93Q291bnQiLCJ0IiwidXNlVHJhbnNsYXRpb24iLCJQb3B1cCIsImJ1dHRvbiIsIk1vcmUiLCJidXR0b25DbGFzc05hbWUiLCJjbGFzc05hbWUiLCJob3Jpem9udGFsQWxpZ24iLCJyZW5kZXIiLCJjbG9zZSIsIlBvcHVwTGlzdCIsIkJ1dHRvbkdyb3VwIiwiYnV0dG9uU2l6ZSIsIkJ1dHRvbiIsIm9uQ2xpY2siLCJkaXYiLCJDaGV2cm9uIiwiZGlyZWN0aW9uIiwiUmVhY3QiLCJGcmFnbWVudCIsIlBsdXMiLCJDb3B5IiwiWCIsInNpemUiXSwibWFwcGluZ3MiOiI7Ozs7K0JBZ0JhQTs7O2VBQUFBOzs7OERBaEJLOzhCQUNhO2dFQUlYOzZEQUNIOzZEQUNBOzZEQUNBOzBEQUNIOzhEQUNJO3lFQUNTO1FBQ3BCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFUCxNQUFNQyxZQUFZO0FBRVgsTUFBTUQsY0FBK0IsQ0FBQyxFQUMzQ0UsTUFBTSxFQUNOQyxZQUFZLEVBQ1pDLFVBQVUsRUFDVkMsS0FBSyxFQUNMQyxPQUFPLEVBQ1BDLFNBQVMsRUFDVEMsUUFBUSxFQUNUO0lBQ0MsTUFBTSxFQUFFQyxDQUFDLEVBQUUsR0FBR0MsSUFBQUEsNEJBQWMsRUFBQztJQUM3QixxQkFDRSw2QkFBQ0MsY0FBSztRQUNKQyxzQkFBUSw2QkFBQ0MsYUFBSTtRQUNiQyxpQkFBaUIsQ0FBQyxFQUFFYixVQUFVLFFBQVEsQ0FBQztRQUN2Q2MsV0FBV2Q7UUFDWGUsaUJBQWdCO1FBQ2hCQyxRQUFRLENBQUMsRUFBRUMsS0FBSyxFQUFFO1lBQ2hCLHFCQUNFLDZCQUFDQyxpQkFBVUMsV0FBVztnQkFBQ0MsWUFBVztlQUMvQmhCLFVBQVUsbUJBQ1QsNkJBQUNjLGlCQUFVRyxNQUFNO2dCQUNmUCxXQUFXLENBQUMsRUFBRWQsVUFBVSxTQUFTLEVBQUVBLFVBQVUsU0FBUyxDQUFDO2dCQUN2RHNCLFNBQVM7b0JBQ1BqQixRQUFRRCxPQUFPQSxRQUFRO29CQUN2QmE7Z0JBQ0Y7NkJBRUEsNkJBQUNNO2dCQUFJVCxXQUFXLENBQUMsRUFBRWQsVUFBVSxnQkFBZ0IsQ0FBQzs2QkFDNUMsNkJBQUN3QixnQkFBTztnQkFBQ0MsV0FBVTtpQkFFcEJqQixFQUFFLFlBR05KLFFBQVFHLFdBQVcsbUJBQ2xCLDZCQUFDVyxpQkFBVUcsTUFBTTtnQkFDZlAsV0FBVyxDQUFDLEVBQUVkLFVBQVUsUUFBUSxDQUFDO2dCQUNqQ3NCLFNBQVM7b0JBQ1BqQixRQUFRRCxPQUFPQSxRQUFRO29CQUN2QmE7Z0JBQ0Y7NkJBRUEsNkJBQUNNO2dCQUFJVCxXQUFXLENBQUMsRUFBRWQsVUFBVSxnQkFBZ0IsQ0FBQzs2QkFDNUMsNkJBQUN3QixnQkFBTyxVQUVUaEIsRUFBRSxjQUdOLENBQUNMLDRCQUNBLDZCQUFDdUIsY0FBSyxDQUFDQyxRQUFRLHNCQUNiLDZCQUFDVCxpQkFBVUcsTUFBTTtnQkFDZlAsV0FBVyxDQUFDLEVBQUVkLFVBQVUsU0FBUyxFQUFFQSxVQUFVLEtBQUssQ0FBQztnQkFDbkRzQixTQUFTO29CQUNQckIsT0FBT0csUUFBUTtvQkFDZmE7Z0JBQ0Y7NkJBRUEsNkJBQUNXLGFBQUksU0FDSnBCLEVBQUUsNEJBRUwsNkJBQUNVLGlCQUFVRyxNQUFNO2dCQUNmUCxXQUFXLENBQUMsRUFBRWQsVUFBVSxTQUFTLEVBQUVBLFVBQVUsV0FBVyxDQUFDO2dCQUN6RHNCLFNBQVM7b0JBQ1BwQixhQUFhRTtvQkFDYmE7Z0JBQ0Y7NkJBRUEsNkJBQUNZLGFBQUksU0FDSnJCLEVBQUUsOEJBSVQsNkJBQUNVLGlCQUFVRyxNQUFNO2dCQUNmUCxXQUFXLENBQUMsRUFBRWQsVUFBVSxTQUFTLEVBQUVBLFVBQVUsUUFBUSxDQUFDO2dCQUN0RHNCLFNBQVM7b0JBQ1BoQixVQUFVRjtvQkFDVmE7Z0JBQ0Y7NkJBRUEsNkJBQUNhLFVBQUMsU0FDRHRCLEVBQUU7UUFJWDtRQUNBdUIsTUFBSzs7QUFHWCJ9