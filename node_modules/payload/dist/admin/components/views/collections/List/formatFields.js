"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return _default;
    }
});
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _types = require("../../../../../fields/config/types");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const formatFields = (config)=>{
    const hasID = config.fields.findIndex((field)=>(0, _types.fieldAffectsData)(field) && field.name === 'id') > -1;
    const fields = config.fields.reduce((formatted, field)=>{
        if (!(0, _types.fieldIsPresentationalOnly)(field) && (field.hidden === true || field?.admin?.disabled === true)) {
            return formatted;
        }
        return [
            ...formatted,
            field
        ];
    }, hasID ? [] : [
        {
            name: 'id',
            admin: {
                disableBulkEdit: true
            },
            label: 'ID',
            type: 'text'
        }
    ]);
    return fields;
};
const _default = formatFields;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9hZG1pbi9jb21wb25lbnRzL3ZpZXdzL2NvbGxlY3Rpb25zL0xpc3QvZm9ybWF0RmllbGRzLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5cbmltcG9ydCB0eXBlIHsgU2FuaXRpemVkQ29sbGVjdGlvbkNvbmZpZyB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2NvbGxlY3Rpb25zL2NvbmZpZy90eXBlcydcbmltcG9ydCB0eXBlIHsgRmllbGQgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9maWVsZHMvY29uZmlnL3R5cGVzJ1xuXG5pbXBvcnQgeyBmaWVsZEFmZmVjdHNEYXRhLCBmaWVsZElzUHJlc2VudGF0aW9uYWxPbmx5IH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vZmllbGRzL2NvbmZpZy90eXBlcydcblxuY29uc3QgZm9ybWF0RmllbGRzID0gKGNvbmZpZzogU2FuaXRpemVkQ29sbGVjdGlvbkNvbmZpZyk6IEZpZWxkW10gPT4ge1xuICBjb25zdCBoYXNJRCA9XG4gICAgY29uZmlnLmZpZWxkcy5maW5kSW5kZXgoKGZpZWxkKSA9PiBmaWVsZEFmZmVjdHNEYXRhKGZpZWxkKSAmJiBmaWVsZC5uYW1lID09PSAnaWQnKSA+IC0xXG4gIGNvbnN0IGZpZWxkczogRmllbGRbXSA9IGNvbmZpZy5maWVsZHMucmVkdWNlKFxuICAgIChmb3JtYXR0ZWQsIGZpZWxkKSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgICFmaWVsZElzUHJlc2VudGF0aW9uYWxPbmx5KGZpZWxkKSAmJlxuICAgICAgICAoZmllbGQuaGlkZGVuID09PSB0cnVlIHx8IGZpZWxkPy5hZG1pbj8uZGlzYWJsZWQgPT09IHRydWUpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdHRlZFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gWy4uLmZvcm1hdHRlZCwgZmllbGRdXG4gICAgfSxcbiAgICBoYXNJRFxuICAgICAgPyBbXVxuICAgICAgOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogJ2lkJyxcbiAgICAgICAgICAgIGFkbWluOiB7XG4gICAgICAgICAgICAgIGRpc2FibGVCdWxrRWRpdDogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsYWJlbDogJ0lEJyxcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICApXG5cbiAgcmV0dXJuIGZpZWxkc1xufVxuXG5leHBvcnQgZGVmYXVsdCBmb3JtYXRGaWVsZHNcbiJdLCJuYW1lcyI6WyJmb3JtYXRGaWVsZHMiLCJjb25maWciLCJoYXNJRCIsImZpZWxkcyIsImZpbmRJbmRleCIsImZpZWxkIiwiZmllbGRBZmZlY3RzRGF0YSIsIm5hbWUiLCJyZWR1Y2UiLCJmb3JtYXR0ZWQiLCJmaWVsZElzUHJlc2VudGF0aW9uYWxPbmx5IiwiaGlkZGVuIiwiYWRtaW4iLCJkaXNhYmxlZCIsImRpc2FibGVCdWxrRWRpdCIsImxhYmVsIiwidHlwZSJdLCJtYXBwaW5ncyI6Ijs7OzsrQkFzQ0E7OztlQUFBOzs7OERBdENrQjt1QkFLMEM7Ozs7OztBQUU1RCxNQUFNQSxlQUFlLENBQUNDO0lBQ3BCLE1BQU1DLFFBQ0pELE9BQU9FLE1BQU0sQ0FBQ0MsU0FBUyxDQUFDLENBQUNDLFFBQVVDLElBQUFBLHVCQUFnQixFQUFDRCxVQUFVQSxNQUFNRSxJQUFJLEtBQUssUUFBUSxDQUFDO0lBQ3hGLE1BQU1KLFNBQWtCRixPQUFPRSxNQUFNLENBQUNLLE1BQU0sQ0FDMUMsQ0FBQ0MsV0FBV0o7UUFDVixJQUNFLENBQUNLLElBQUFBLGdDQUF5QixFQUFDTCxVQUMxQkEsQ0FBQUEsTUFBTU0sTUFBTSxLQUFLLFFBQVFOLE9BQU9PLE9BQU9DLGFBQWEsSUFBRyxHQUN4RDtZQUNBLE9BQU9KO1FBQ1Q7UUFFQSxPQUFPO2VBQUlBO1lBQVdKO1NBQU07SUFDOUIsR0FDQUgsUUFDSSxFQUFFLEdBQ0Y7UUFDRTtZQUNFSyxNQUFNO1lBQ05LLE9BQU87Z0JBQ0xFLGlCQUFpQjtZQUNuQjtZQUNBQyxPQUFPO1lBQ1BDLE1BQU07UUFDUjtLQUNEO0lBR1AsT0FBT2I7QUFDVDtNQUVBLFdBQWVIIn0=