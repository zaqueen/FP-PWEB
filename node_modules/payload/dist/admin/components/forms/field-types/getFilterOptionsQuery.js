"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "getFilterOptionsQuery", {
    enumerable: true,
    get: function() {
        return getFilterOptionsQuery;
    }
});
const getFilterOptionsQuery = async (filterOptions, options)=>{
    const { relationTo } = options;
    const relations = Array.isArray(relationTo) ? relationTo : [
        relationTo
    ];
    const query = {};
    if (typeof filterOptions !== 'undefined') {
        await Promise.all(relations.map(async (relation)=>{
            query[relation] = typeof filterOptions === 'function' ? await filterOptions({
                ...options,
                relationTo: relation
            }) : filterOptions;
        }));
    }
    return query;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9hZG1pbi9jb21wb25lbnRzL2Zvcm1zL2ZpZWxkLXR5cGVzL2dldEZpbHRlck9wdGlvbnNRdWVyeS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEZpbHRlck9wdGlvbnMsIEZpbHRlck9wdGlvbnNQcm9wcyB9IGZyb20gJy4uLy4uLy4uLy4uL2ZpZWxkcy9jb25maWcvdHlwZXMnXG5pbXBvcnQgdHlwZSB7IFdoZXJlIH0gZnJvbSAnLi4vLi4vLi4vLi4vdHlwZXMnXG5cbmV4cG9ydCBjb25zdCBnZXRGaWx0ZXJPcHRpb25zUXVlcnkgPSBhc3luYyAoXG4gIGZpbHRlck9wdGlvbnM6IEZpbHRlck9wdGlvbnMsXG4gIG9wdGlvbnM6IE9taXQ8RmlsdGVyT3B0aW9uc1Byb3BzLCAncmVsYXRpb25Ubyc+ICYgeyByZWxhdGlvblRvOiBzdHJpbmcgfCBzdHJpbmdbXSB9LFxuKTogUHJvbWlzZTx7IFtjb2xsZWN0aW9uOiBzdHJpbmddOiBXaGVyZSB9PiA9PiB7XG4gIGNvbnN0IHsgcmVsYXRpb25UbyB9ID0gb3B0aW9uc1xuICBjb25zdCByZWxhdGlvbnMgPSBBcnJheS5pc0FycmF5KHJlbGF0aW9uVG8pID8gcmVsYXRpb25UbyA6IFtyZWxhdGlvblRvXVxuICBjb25zdCBxdWVyeSA9IHt9XG4gIGlmICh0eXBlb2YgZmlsdGVyT3B0aW9ucyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIHJlbGF0aW9ucy5tYXAoYXN5bmMgKHJlbGF0aW9uKSA9PiB7XG4gICAgICAgIHF1ZXJ5W3JlbGF0aW9uXSA9XG4gICAgICAgICAgdHlwZW9mIGZpbHRlck9wdGlvbnMgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgID8gYXdhaXQgZmlsdGVyT3B0aW9ucyh7IC4uLm9wdGlvbnMsIHJlbGF0aW9uVG86IHJlbGF0aW9uIH0pXG4gICAgICAgICAgICA6IGZpbHRlck9wdGlvbnNcbiAgICAgIH0pLFxuICAgIClcbiAgfVxuICByZXR1cm4gcXVlcnlcbn1cbiJdLCJuYW1lcyI6WyJnZXRGaWx0ZXJPcHRpb25zUXVlcnkiLCJmaWx0ZXJPcHRpb25zIiwib3B0aW9ucyIsInJlbGF0aW9uVG8iLCJyZWxhdGlvbnMiLCJBcnJheSIsImlzQXJyYXkiLCJxdWVyeSIsIlByb21pc2UiLCJhbGwiLCJtYXAiLCJyZWxhdGlvbiJdLCJtYXBwaW5ncyI6Ijs7OzsrQkFHYUE7OztlQUFBQTs7O0FBQU4sTUFBTUEsd0JBQXdCLE9BQ25DQyxlQUNBQztJQUVBLE1BQU0sRUFBRUMsVUFBVSxFQUFFLEdBQUdEO0lBQ3ZCLE1BQU1FLFlBQVlDLE1BQU1DLE9BQU8sQ0FBQ0gsY0FBY0EsYUFBYTtRQUFDQTtLQUFXO0lBQ3ZFLE1BQU1JLFFBQVEsQ0FBQztJQUNmLElBQUksT0FBT04sa0JBQWtCLGFBQWE7UUFDeEMsTUFBTU8sUUFBUUMsR0FBRyxDQUNmTCxVQUFVTSxHQUFHLENBQUMsT0FBT0M7WUFDbkJKLEtBQUssQ0FBQ0ksU0FBUyxHQUNiLE9BQU9WLGtCQUFrQixhQUNyQixNQUFNQSxjQUFjO2dCQUFFLEdBQUdDLE9BQU87Z0JBQUVDLFlBQVlRO1lBQVMsS0FDdkRWO1FBQ1I7SUFFSjtJQUNBLE9BQU9NO0FBQ1QifQ==