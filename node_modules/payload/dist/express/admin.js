"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return _default;
    }
});
async function initAdmin(ctx) {
    if (!ctx.config.admin.disable) {
        if (process.env.NODE_ENV === 'production') {
            ctx.express.use(ctx.config.routes.admin, await ctx.config.admin.bundler.serve(ctx));
        } else {
            ctx.express.use(ctx.config.routes.admin, await ctx.config.admin.bundler.dev(ctx));
        }
    }
}
const _default = initAdmin;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9leHByZXNzL2FkbWluLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgUGF5bG9hZCB9IGZyb20gJy4uL3BheWxvYWQnXG5cbmFzeW5jIGZ1bmN0aW9uIGluaXRBZG1pbihjdHg6IFBheWxvYWQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKCFjdHguY29uZmlnLmFkbWluLmRpc2FibGUpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgY3R4LmV4cHJlc3MudXNlKGN0eC5jb25maWcucm91dGVzLmFkbWluLCBhd2FpdCBjdHguY29uZmlnLmFkbWluLmJ1bmRsZXIuc2VydmUoY3R4KSlcbiAgICB9IGVsc2Uge1xuICAgICAgY3R4LmV4cHJlc3MudXNlKGN0eC5jb25maWcucm91dGVzLmFkbWluLCBhd2FpdCBjdHguY29uZmlnLmFkbWluLmJ1bmRsZXIuZGV2KGN0eCkpXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGluaXRBZG1pblxuIl0sIm5hbWVzIjpbImluaXRBZG1pbiIsImN0eCIsImNvbmZpZyIsImFkbWluIiwiZGlzYWJsZSIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsImV4cHJlc3MiLCJ1c2UiLCJyb3V0ZXMiLCJidW5kbGVyIiwic2VydmUiLCJkZXYiXSwibWFwcGluZ3MiOiI7Ozs7K0JBWUE7OztlQUFBOzs7QUFWQSxlQUFlQSxVQUFVQyxHQUFZO0lBQ25DLElBQUksQ0FBQ0EsSUFBSUMsTUFBTSxDQUFDQyxLQUFLLENBQUNDLE9BQU8sRUFBRTtRQUM3QixJQUFJQyxRQUFRQyxHQUFHLENBQUNDLFFBQVEsS0FBSyxjQUFjO1lBQ3pDTixJQUFJTyxPQUFPLENBQUNDLEdBQUcsQ0FBQ1IsSUFBSUMsTUFBTSxDQUFDUSxNQUFNLENBQUNQLEtBQUssRUFBRSxNQUFNRixJQUFJQyxNQUFNLENBQUNDLEtBQUssQ0FBQ1EsT0FBTyxDQUFDQyxLQUFLLENBQUNYO1FBQ2hGLE9BQU87WUFDTEEsSUFBSU8sT0FBTyxDQUFDQyxHQUFHLENBQUNSLElBQUlDLE1BQU0sQ0FBQ1EsTUFBTSxDQUFDUCxLQUFLLEVBQUUsTUFBTUYsSUFBSUMsTUFBTSxDQUFDQyxLQUFLLENBQUNRLE9BQU8sQ0FBQ0UsR0FBRyxDQUFDWjtRQUM5RTtJQUNGO0FBQ0Y7TUFFQSxXQUFlRCJ9