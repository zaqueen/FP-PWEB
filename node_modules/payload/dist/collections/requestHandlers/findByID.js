"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return findByIDHandler;
    }
});
const _findByID = /*#__PURE__*/ _interop_require_default(require("../operations/findByID"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
async function findByIDHandler(req, res, next) {
    try {
        const doc = await (0, _findByID.default)({
            id: req.params.id,
            collection: req.collection,
            depth: Number(req.query.depth),
            draft: req.query.draft === 'true',
            req
        });
        return res.json(doc);
    } catch (error) {
        return next(error);
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb2xsZWN0aW9ucy9yZXF1ZXN0SGFuZGxlcnMvZmluZEJ5SUQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBOZXh0RnVuY3Rpb24sIFJlc3BvbnNlIH0gZnJvbSAnZXhwcmVzcydcblxuaW1wb3J0IHR5cGUgeyBQYXlsb2FkUmVxdWVzdCB9IGZyb20gJy4uLy4uL2V4cHJlc3MvdHlwZXMnXG5pbXBvcnQgdHlwZSB7IERvY3VtZW50IH0gZnJvbSAnLi4vLi4vdHlwZXMnXG5cbmltcG9ydCBmaW5kQnlJRCBmcm9tICcuLi9vcGVyYXRpb25zL2ZpbmRCeUlEJ1xuXG5leHBvcnQgdHlwZSBGaW5kQnlJRFJlc3VsdCA9IHtcbiAgZG9jOiBEb2N1bWVudFxuICBtZXNzYWdlOiBzdHJpbmdcbn1cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gZmluZEJ5SURIYW5kbGVyKFxuICByZXE6IFBheWxvYWRSZXF1ZXN0LFxuICByZXM6IFJlc3BvbnNlLFxuICBuZXh0OiBOZXh0RnVuY3Rpb24sXG4pOiBQcm9taXNlPFJlc3BvbnNlPEZpbmRCeUlEUmVzdWx0PiB8IHZvaWQ+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkb2MgPSBhd2FpdCBmaW5kQnlJRCh7XG4gICAgICBpZDogcmVxLnBhcmFtcy5pZCxcbiAgICAgIGNvbGxlY3Rpb246IHJlcS5jb2xsZWN0aW9uLFxuICAgICAgZGVwdGg6IE51bWJlcihyZXEucXVlcnkuZGVwdGgpLFxuICAgICAgZHJhZnQ6IHJlcS5xdWVyeS5kcmFmdCA9PT0gJ3RydWUnLFxuICAgICAgcmVxLFxuICAgIH0pXG4gICAgcmV0dXJuIHJlcy5qc29uKGRvYylcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gbmV4dChlcnJvcilcbiAgfVxufVxuIl0sIm5hbWVzIjpbImZpbmRCeUlESGFuZGxlciIsInJlcSIsInJlcyIsIm5leHQiLCJkb2MiLCJmaW5kQnlJRCIsImlkIiwicGFyYW1zIiwiY29sbGVjdGlvbiIsImRlcHRoIiwiTnVtYmVyIiwicXVlcnkiLCJkcmFmdCIsImpzb24iLCJlcnJvciJdLCJtYXBwaW5ncyI6Ijs7OzsrQkFZQTs7O2VBQThCQTs7O2lFQVBUOzs7Ozs7QUFPTixlQUFlQSxnQkFDNUJDLEdBQW1CLEVBQ25CQyxHQUFhLEVBQ2JDLElBQWtCO0lBRWxCLElBQUk7UUFDRixNQUFNQyxNQUFNLE1BQU1DLElBQUFBLGlCQUFRLEVBQUM7WUFDekJDLElBQUlMLElBQUlNLE1BQU0sQ0FBQ0QsRUFBRTtZQUNqQkUsWUFBWVAsSUFBSU8sVUFBVTtZQUMxQkMsT0FBT0MsT0FBT1QsSUFBSVUsS0FBSyxDQUFDRixLQUFLO1lBQzdCRyxPQUFPWCxJQUFJVSxLQUFLLENBQUNDLEtBQUssS0FBSztZQUMzQlg7UUFDRjtRQUNBLE9BQU9DLElBQUlXLElBQUksQ0FBQ1Q7SUFDbEIsRUFBRSxPQUFPVSxPQUFPO1FBQ2QsT0FBT1gsS0FBS1c7SUFDZDtBQUNGIn0=