"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "mimeTypeValidator", {
    enumerable: true,
    get: function() {
        return mimeTypeValidator;
    }
});
const mimeTypeValidator = (mimeTypes)=>(val, { siblingData })=>{
        if (!siblingData.filename) {
            return true;
        }
        if (!val) {
            return 'Invalid file type';
        }
        const cleanedMimeTypes = mimeTypes.map((v)=>v.replace('*', ''));
        return !cleanedMimeTypes.some((v)=>val.startsWith(v)) ? `Invalid file type: '${val}'` : true;
    };

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91cGxvYWRzL21pbWVUeXBlVmFsaWRhdG9yLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgVmFsaWRhdGUgfSBmcm9tICcuLi9maWVsZHMvY29uZmlnL3R5cGVzJ1xuXG5leHBvcnQgY29uc3QgbWltZVR5cGVWYWxpZGF0b3IgPVxuICAobWltZVR5cGVzOiBzdHJpbmdbXSk6IFZhbGlkYXRlID0+XG4gICh2YWw6IHN0cmluZywgeyBzaWJsaW5nRGF0YSB9KSA9PiB7XG4gICAgaWYgKCFzaWJsaW5nRGF0YS5maWxlbmFtZSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICBpZiAoIXZhbCkge1xuICAgICAgcmV0dXJuICdJbnZhbGlkIGZpbGUgdHlwZSdcbiAgICB9XG5cbiAgICBjb25zdCBjbGVhbmVkTWltZVR5cGVzID0gbWltZVR5cGVzLm1hcCgodikgPT4gdi5yZXBsYWNlKCcqJywgJycpKVxuICAgIHJldHVybiAhY2xlYW5lZE1pbWVUeXBlcy5zb21lKCh2KSA9PiB2YWwuc3RhcnRzV2l0aCh2KSkgPyBgSW52YWxpZCBmaWxlIHR5cGU6ICcke3ZhbH0nYCA6IHRydWVcbiAgfVxuIl0sIm5hbWVzIjpbIm1pbWVUeXBlVmFsaWRhdG9yIiwibWltZVR5cGVzIiwidmFsIiwic2libGluZ0RhdGEiLCJmaWxlbmFtZSIsImNsZWFuZWRNaW1lVHlwZXMiLCJtYXAiLCJ2IiwicmVwbGFjZSIsInNvbWUiLCJzdGFydHNXaXRoIl0sIm1hcHBpbmdzIjoiOzs7OytCQUVhQTs7O2VBQUFBOzs7QUFBTixNQUFNQSxvQkFDWCxDQUFDQyxZQUNELENBQUNDLEtBQWEsRUFBRUMsV0FBVyxFQUFFO1FBQzNCLElBQUksQ0FBQ0EsWUFBWUMsUUFBUSxFQUFFO1lBQ3pCLE9BQU87UUFDVDtRQUVBLElBQUksQ0FBQ0YsS0FBSztZQUNSLE9BQU87UUFDVDtRQUVBLE1BQU1HLG1CQUFtQkosVUFBVUssR0FBRyxDQUFDLENBQUNDLElBQU1BLEVBQUVDLE9BQU8sQ0FBQyxLQUFLO1FBQzdELE9BQU8sQ0FBQ0gsaUJBQWlCSSxJQUFJLENBQUMsQ0FBQ0YsSUFBTUwsSUFBSVEsVUFBVSxDQUFDSCxNQUFNLENBQUMsb0JBQW9CLEVBQUVMLElBQUksQ0FBQyxDQUFDLEdBQUc7SUFDNUYifQ==