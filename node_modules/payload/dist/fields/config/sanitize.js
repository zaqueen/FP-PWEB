"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "sanitizeFields", {
    enumerable: true,
    get: function() {
        return sanitizeFields;
    }
});
const _withCondition = /*#__PURE__*/ _interop_require_default(require("../../admin/components/forms/withCondition"));
const _errors = require("../../errors");
const _formatLabels = require("../../utilities/formatLabels");
const _baseBlockFields = require("../baseFields/baseBlockFields");
const _baseIDField = require("../baseFields/baseIDField");
const _validations = /*#__PURE__*/ _interop_require_default(require("../validations"));
const _types = require("./types");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const sanitizeFields = ({ config, fields, validRelationships })=>{
    if (!fields) return [];
    return fields.map((unsanitizedField)=>{
        const field = {
            ...unsanitizedField
        };
        if (!field.type) throw new _errors.MissingFieldType(field);
        // assert that field names do not contain forbidden characters
        if ((0, _types.fieldAffectsData)(field) && field.name.includes('.')) {
            throw new _errors.InvalidFieldName(field, field.name);
        }
        // Make sure that the richText field has an editor
        if (field.type === 'richText' && !field.editor && config.editor) {
            field.editor = config.editor;
        }
        // Auto-label
        if ('name' in field && field.name && typeof field.label !== 'object' && typeof field.label !== 'string' && field.label !== false) {
            field.label = (0, _formatLabels.toWords)(field.name);
        }
        if (field.type === 'checkbox' && typeof field.defaultValue === 'undefined' && field.required === true) {
            field.defaultValue = false;
        }
        if (field.type === 'relationship' || field.type === 'upload') {
            if (validRelationships) {
                const relationships = Array.isArray(field.relationTo) ? field.relationTo : [
                    field.relationTo
                ];
                relationships.forEach((relationship)=>{
                    if (!validRelationships.includes(relationship)) {
                        throw new _errors.InvalidFieldRelationship(field, relationship);
                    }
                });
            }
            if (field.type === 'relationship') {
                if (field.min && !field.minRows) {
                    console.warn(`(payload): The "min" property is deprecated for the Relationship field "${field.name}" and will be removed in a future version. Please use "minRows" instead.`);
                }
                if (field.max && !field.maxRows) {
                    console.warn(`(payload): The "max" property is deprecated for the Relationship field "${field.name}" and will be removed in a future version. Please use "maxRows" instead.`);
                }
                field.minRows = field.minRows || field.min;
                field.maxRows = field.maxRows || field.max;
            }
        }
        if (field.type === 'blocks' && field.blocks) {
            field.blocks = field.blocks.map((block)=>({
                    ...block,
                    fields: block.fields.concat(_baseBlockFields.baseBlockFields)
                }));
        }
        if (field.type === 'array' && field.fields) {
            field.fields.push(_baseIDField.baseIDField);
        }
        if ((field.type === 'blocks' || field.type === 'array') && field.label) {
            field.labels = field.labels || (0, _formatLabels.formatLabels)(field.name);
        }
        if ((0, _types.fieldAffectsData)(field)) {
            if (field.localized && !config.localization) delete field.localized;
            if (typeof field.validate === 'undefined') {
                const defaultValidate = _validations.default[field.type];
                if (defaultValidate) {
                    field.validate = (val, options)=>defaultValidate(val, {
                            ...field,
                            ...options
                        });
                } else {
                    field.validate = ()=>true;
                }
            }
            if (!field.hooks) field.hooks = {};
            if (!field.access) field.access = {};
        }
        if (field.admin) {
            if (field.admin.condition && field.admin.components?.Field) {
                field.admin.components.Field = (0, _withCondition.default)(field.admin.components?.Field);
            }
        } else {
            field.admin = {};
        }
        if ('fields' in field && field.fields) {
            field.fields = sanitizeFields({
                config,
                fields: field.fields,
                validRelationships
            });
        }
        if (field.type === 'tabs') {
            field.tabs = field.tabs.map((tab)=>{
                const unsanitizedTab = {
                    ...tab
                };
                if ((0, _types.tabHasName)(tab) && typeof tab.label === 'undefined') {
                    unsanitizedTab.label = (0, _formatLabels.toWords)(tab.name);
                }
                unsanitizedTab.fields = sanitizeFields({
                    config,
                    fields: tab.fields,
                    validRelationships
                });
                return unsanitizedTab;
            });
        }
        if ('blocks' in field && field.blocks) {
            field.blocks = field.blocks.map((block)=>{
                const unsanitizedBlock = {
                    ...block
                };
                unsanitizedBlock.labels = !unsanitizedBlock.labels ? (0, _formatLabels.formatLabels)(unsanitizedBlock.slug) : unsanitizedBlock.labels;
                unsanitizedBlock.fields = sanitizeFields({
                    config,
                    fields: block.fields,
                    validRelationships
                });
                return unsanitizedBlock;
            });
        }
        return field;
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9maWVsZHMvY29uZmlnL3Nhbml0aXplLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgQ29uZmlnIH0gZnJvbSAnLi4vLi4vY29uZmlnL3R5cGVzJ1xuaW1wb3J0IHR5cGUgeyBGaWVsZCB9IGZyb20gJy4vdHlwZXMnXG5cbmltcG9ydCB3aXRoQ29uZGl0aW9uIGZyb20gJy4uLy4uL2FkbWluL2NvbXBvbmVudHMvZm9ybXMvd2l0aENvbmRpdGlvbidcbmltcG9ydCB7IEludmFsaWRGaWVsZE5hbWUsIEludmFsaWRGaWVsZFJlbGF0aW9uc2hpcCwgTWlzc2luZ0ZpZWxkVHlwZSB9IGZyb20gJy4uLy4uL2Vycm9ycydcbmltcG9ydCB7IGZvcm1hdExhYmVscywgdG9Xb3JkcyB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy9mb3JtYXRMYWJlbHMnXG5pbXBvcnQgeyBiYXNlQmxvY2tGaWVsZHMgfSBmcm9tICcuLi9iYXNlRmllbGRzL2Jhc2VCbG9ja0ZpZWxkcydcbmltcG9ydCB7IGJhc2VJREZpZWxkIH0gZnJvbSAnLi4vYmFzZUZpZWxkcy9iYXNlSURGaWVsZCdcbmltcG9ydCB2YWxpZGF0aW9ucyBmcm9tICcuLi92YWxpZGF0aW9ucydcbmltcG9ydCB7IGZpZWxkQWZmZWN0c0RhdGEsIHRhYkhhc05hbWUgfSBmcm9tICcuL3R5cGVzJ1xuXG50eXBlIEFyZ3MgPSB7XG4gIGNvbmZpZzogQ29uZmlnXG4gIGZpZWxkczogRmllbGRbXVxuICAvKipcbiAgICogSWYgbm90IG51bGwsIHdpbGwgdmFsaWRhdGUgdGhhdCB1cGxvYWQgYW5kIHJlbGF0aW9uc2hpcCBmaWVsZHMgZG8gbm90IHJlbGF0ZSB0byBhIGNvbGxlY3Rpb24gdGhhdCBpcyBub3QgaW4gdGhpcyBhcnJheS5cbiAgICogVGhpcyB2YWxpZGF0aW9uIHdpbGwgYmUgc2tpcHBlZCBpZiB2YWxpZFJlbGF0aW9uc2hpcHMgaXMgbnVsbC5cbiAgICovXG4gIHZhbGlkUmVsYXRpb25zaGlwczogbnVsbCB8IHN0cmluZ1tdXG59XG5cbmV4cG9ydCBjb25zdCBzYW5pdGl6ZUZpZWxkcyA9ICh7IGNvbmZpZywgZmllbGRzLCB2YWxpZFJlbGF0aW9uc2hpcHMgfTogQXJncyk6IEZpZWxkW10gPT4ge1xuICBpZiAoIWZpZWxkcykgcmV0dXJuIFtdXG5cbiAgcmV0dXJuIGZpZWxkcy5tYXAoKHVuc2FuaXRpemVkRmllbGQpID0+IHtcbiAgICBjb25zdCBmaWVsZDogRmllbGQgPSB7IC4uLnVuc2FuaXRpemVkRmllbGQgfVxuXG4gICAgaWYgKCFmaWVsZC50eXBlKSB0aHJvdyBuZXcgTWlzc2luZ0ZpZWxkVHlwZShmaWVsZClcblxuICAgIC8vIGFzc2VydCB0aGF0IGZpZWxkIG5hbWVzIGRvIG5vdCBjb250YWluIGZvcmJpZGRlbiBjaGFyYWN0ZXJzXG4gICAgaWYgKGZpZWxkQWZmZWN0c0RhdGEoZmllbGQpICYmIGZpZWxkLm5hbWUuaW5jbHVkZXMoJy4nKSkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRGaWVsZE5hbWUoZmllbGQsIGZpZWxkLm5hbWUpXG4gICAgfVxuXG4gICAgLy8gTWFrZSBzdXJlIHRoYXQgdGhlIHJpY2hUZXh0IGZpZWxkIGhhcyBhbiBlZGl0b3JcbiAgICBpZiAoZmllbGQudHlwZSA9PT0gJ3JpY2hUZXh0JyAmJiAhZmllbGQuZWRpdG9yICYmIGNvbmZpZy5lZGl0b3IpIHtcbiAgICAgIGZpZWxkLmVkaXRvciA9IGNvbmZpZy5lZGl0b3JcbiAgICB9XG5cbiAgICAvLyBBdXRvLWxhYmVsXG4gICAgaWYgKFxuICAgICAgJ25hbWUnIGluIGZpZWxkICYmXG4gICAgICBmaWVsZC5uYW1lICYmXG4gICAgICB0eXBlb2YgZmllbGQubGFiZWwgIT09ICdvYmplY3QnICYmXG4gICAgICB0eXBlb2YgZmllbGQubGFiZWwgIT09ICdzdHJpbmcnICYmXG4gICAgICBmaWVsZC5sYWJlbCAhPT0gZmFsc2VcbiAgICApIHtcbiAgICAgIGZpZWxkLmxhYmVsID0gdG9Xb3JkcyhmaWVsZC5uYW1lKVxuICAgIH1cblxuICAgIGlmIChcbiAgICAgIGZpZWxkLnR5cGUgPT09ICdjaGVja2JveCcgJiZcbiAgICAgIHR5cGVvZiBmaWVsZC5kZWZhdWx0VmFsdWUgPT09ICd1bmRlZmluZWQnICYmXG4gICAgICBmaWVsZC5yZXF1aXJlZCA9PT0gdHJ1ZVxuICAgICkge1xuICAgICAgZmllbGQuZGVmYXVsdFZhbHVlID0gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoZmllbGQudHlwZSA9PT0gJ3JlbGF0aW9uc2hpcCcgfHwgZmllbGQudHlwZSA9PT0gJ3VwbG9hZCcpIHtcbiAgICAgIGlmICh2YWxpZFJlbGF0aW9uc2hpcHMpIHtcbiAgICAgICAgY29uc3QgcmVsYXRpb25zaGlwcyA9IEFycmF5LmlzQXJyYXkoZmllbGQucmVsYXRpb25UbylcbiAgICAgICAgICA/IGZpZWxkLnJlbGF0aW9uVG9cbiAgICAgICAgICA6IFtmaWVsZC5yZWxhdGlvblRvXVxuICAgICAgICByZWxhdGlvbnNoaXBzLmZvckVhY2goKHJlbGF0aW9uc2hpcDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgaWYgKCF2YWxpZFJlbGF0aW9uc2hpcHMuaW5jbHVkZXMocmVsYXRpb25zaGlwKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRGaWVsZFJlbGF0aW9uc2hpcChmaWVsZCwgcmVsYXRpb25zaGlwKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgaWYgKGZpZWxkLnR5cGUgPT09ICdyZWxhdGlvbnNoaXAnKSB7XG4gICAgICAgIGlmIChmaWVsZC5taW4gJiYgIWZpZWxkLm1pblJvd3MpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICBgKHBheWxvYWQpOiBUaGUgXCJtaW5cIiBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkIGZvciB0aGUgUmVsYXRpb25zaGlwIGZpZWxkIFwiJHtmaWVsZC5uYW1lfVwiIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgdmVyc2lvbi4gUGxlYXNlIHVzZSBcIm1pblJvd3NcIiBpbnN0ZWFkLmAsXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICAgIGlmIChmaWVsZC5tYXggJiYgIWZpZWxkLm1heFJvd3MpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICBgKHBheWxvYWQpOiBUaGUgXCJtYXhcIiBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkIGZvciB0aGUgUmVsYXRpb25zaGlwIGZpZWxkIFwiJHtmaWVsZC5uYW1lfVwiIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgdmVyc2lvbi4gUGxlYXNlIHVzZSBcIm1heFJvd3NcIiBpbnN0ZWFkLmAsXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICAgIGZpZWxkLm1pblJvd3MgPSBmaWVsZC5taW5Sb3dzIHx8IGZpZWxkLm1pblxuICAgICAgICBmaWVsZC5tYXhSb3dzID0gZmllbGQubWF4Um93cyB8fCBmaWVsZC5tYXhcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZmllbGQudHlwZSA9PT0gJ2Jsb2NrcycgJiYgZmllbGQuYmxvY2tzKSB7XG4gICAgICBmaWVsZC5ibG9ja3MgPSBmaWVsZC5ibG9ja3MubWFwKChibG9jaykgPT4gKHtcbiAgICAgICAgLi4uYmxvY2ssXG4gICAgICAgIGZpZWxkczogYmxvY2suZmllbGRzLmNvbmNhdChiYXNlQmxvY2tGaWVsZHMpLFxuICAgICAgfSkpXG4gICAgfVxuXG4gICAgaWYgKGZpZWxkLnR5cGUgPT09ICdhcnJheScgJiYgZmllbGQuZmllbGRzKSB7XG4gICAgICBmaWVsZC5maWVsZHMucHVzaChiYXNlSURGaWVsZClcbiAgICB9XG5cbiAgICBpZiAoKGZpZWxkLnR5cGUgPT09ICdibG9ja3MnIHx8IGZpZWxkLnR5cGUgPT09ICdhcnJheScpICYmIGZpZWxkLmxhYmVsKSB7XG4gICAgICBmaWVsZC5sYWJlbHMgPSBmaWVsZC5sYWJlbHMgfHwgZm9ybWF0TGFiZWxzKGZpZWxkLm5hbWUpXG4gICAgfVxuXG4gICAgaWYgKGZpZWxkQWZmZWN0c0RhdGEoZmllbGQpKSB7XG4gICAgICBpZiAoZmllbGQubG9jYWxpemVkICYmICFjb25maWcubG9jYWxpemF0aW9uKSBkZWxldGUgZmllbGQubG9jYWxpemVkXG5cbiAgICAgIGlmICh0eXBlb2YgZmllbGQudmFsaWRhdGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRWYWxpZGF0ZSA9IHZhbGlkYXRpb25zW2ZpZWxkLnR5cGVdXG4gICAgICAgIGlmIChkZWZhdWx0VmFsaWRhdGUpIHtcbiAgICAgICAgICBmaWVsZC52YWxpZGF0ZSA9ICh2YWwsIG9wdGlvbnMpID0+IGRlZmF1bHRWYWxpZGF0ZSh2YWwsIHsgLi4uZmllbGQsIC4uLm9wdGlvbnMgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmaWVsZC52YWxpZGF0ZSA9ICgpID0+IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIWZpZWxkLmhvb2tzKSBmaWVsZC5ob29rcyA9IHt9XG4gICAgICBpZiAoIWZpZWxkLmFjY2VzcykgZmllbGQuYWNjZXNzID0ge31cbiAgICB9XG5cbiAgICBpZiAoZmllbGQuYWRtaW4pIHtcbiAgICAgIGlmIChmaWVsZC5hZG1pbi5jb25kaXRpb24gJiYgZmllbGQuYWRtaW4uY29tcG9uZW50cz8uRmllbGQpIHtcbiAgICAgICAgZmllbGQuYWRtaW4uY29tcG9uZW50cy5GaWVsZCA9IHdpdGhDb25kaXRpb24oZmllbGQuYWRtaW4uY29tcG9uZW50cz8uRmllbGQpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpZWxkLmFkbWluID0ge31cbiAgICB9XG5cbiAgICBpZiAoJ2ZpZWxkcycgaW4gZmllbGQgJiYgZmllbGQuZmllbGRzKSB7XG4gICAgICBmaWVsZC5maWVsZHMgPSBzYW5pdGl6ZUZpZWxkcyh7XG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgZmllbGRzOiBmaWVsZC5maWVsZHMsXG4gICAgICAgIHZhbGlkUmVsYXRpb25zaGlwcyxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKGZpZWxkLnR5cGUgPT09ICd0YWJzJykge1xuICAgICAgZmllbGQudGFicyA9IGZpZWxkLnRhYnMubWFwKCh0YWIpID0+IHtcbiAgICAgICAgY29uc3QgdW5zYW5pdGl6ZWRUYWIgPSB7IC4uLnRhYiB9XG4gICAgICAgIGlmICh0YWJIYXNOYW1lKHRhYikgJiYgdHlwZW9mIHRhYi5sYWJlbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB1bnNhbml0aXplZFRhYi5sYWJlbCA9IHRvV29yZHModGFiLm5hbWUpXG4gICAgICAgIH1cblxuICAgICAgICB1bnNhbml0aXplZFRhYi5maWVsZHMgPSBzYW5pdGl6ZUZpZWxkcyh7XG4gICAgICAgICAgY29uZmlnLFxuICAgICAgICAgIGZpZWxkczogdGFiLmZpZWxkcyxcbiAgICAgICAgICB2YWxpZFJlbGF0aW9uc2hpcHMsXG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIHVuc2FuaXRpemVkVGFiXG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmICgnYmxvY2tzJyBpbiBmaWVsZCAmJiBmaWVsZC5ibG9ja3MpIHtcbiAgICAgIGZpZWxkLmJsb2NrcyA9IGZpZWxkLmJsb2Nrcy5tYXAoKGJsb2NrKSA9PiB7XG4gICAgICAgIGNvbnN0IHVuc2FuaXRpemVkQmxvY2sgPSB7IC4uLmJsb2NrIH1cbiAgICAgICAgdW5zYW5pdGl6ZWRCbG9jay5sYWJlbHMgPSAhdW5zYW5pdGl6ZWRCbG9jay5sYWJlbHNcbiAgICAgICAgICA/IGZvcm1hdExhYmVscyh1bnNhbml0aXplZEJsb2NrLnNsdWcpXG4gICAgICAgICAgOiB1bnNhbml0aXplZEJsb2NrLmxhYmVsc1xuXG4gICAgICAgIHVuc2FuaXRpemVkQmxvY2suZmllbGRzID0gc2FuaXRpemVGaWVsZHMoe1xuICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICBmaWVsZHM6IGJsb2NrLmZpZWxkcyxcbiAgICAgICAgICB2YWxpZFJlbGF0aW9uc2hpcHMsXG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIHVuc2FuaXRpemVkQmxvY2tcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIGZpZWxkXG4gIH0pXG59XG4iXSwibmFtZXMiOlsic2FuaXRpemVGaWVsZHMiLCJjb25maWciLCJmaWVsZHMiLCJ2YWxpZFJlbGF0aW9uc2hpcHMiLCJtYXAiLCJ1bnNhbml0aXplZEZpZWxkIiwiZmllbGQiLCJ0eXBlIiwiTWlzc2luZ0ZpZWxkVHlwZSIsImZpZWxkQWZmZWN0c0RhdGEiLCJuYW1lIiwiaW5jbHVkZXMiLCJJbnZhbGlkRmllbGROYW1lIiwiZWRpdG9yIiwibGFiZWwiLCJ0b1dvcmRzIiwiZGVmYXVsdFZhbHVlIiwicmVxdWlyZWQiLCJyZWxhdGlvbnNoaXBzIiwiQXJyYXkiLCJpc0FycmF5IiwicmVsYXRpb25UbyIsImZvckVhY2giLCJyZWxhdGlvbnNoaXAiLCJJbnZhbGlkRmllbGRSZWxhdGlvbnNoaXAiLCJtaW4iLCJtaW5Sb3dzIiwiY29uc29sZSIsIndhcm4iLCJtYXgiLCJtYXhSb3dzIiwiYmxvY2tzIiwiYmxvY2siLCJjb25jYXQiLCJiYXNlQmxvY2tGaWVsZHMiLCJwdXNoIiwiYmFzZUlERmllbGQiLCJsYWJlbHMiLCJmb3JtYXRMYWJlbHMiLCJsb2NhbGl6ZWQiLCJsb2NhbGl6YXRpb24iLCJ2YWxpZGF0ZSIsImRlZmF1bHRWYWxpZGF0ZSIsInZhbGlkYXRpb25zIiwidmFsIiwib3B0aW9ucyIsImhvb2tzIiwiYWNjZXNzIiwiYWRtaW4iLCJjb25kaXRpb24iLCJjb21wb25lbnRzIiwiRmllbGQiLCJ3aXRoQ29uZGl0aW9uIiwidGFicyIsInRhYiIsInVuc2FuaXRpemVkVGFiIiwidGFiSGFzTmFtZSIsInVuc2FuaXRpemVkQmxvY2siLCJzbHVnIl0sIm1hcHBpbmdzIjoiOzs7OytCQXFCYUE7OztlQUFBQTs7O3NFQWxCYTt3QkFDbUQ7OEJBQ3ZDO2lDQUNOOzZCQUNKO29F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