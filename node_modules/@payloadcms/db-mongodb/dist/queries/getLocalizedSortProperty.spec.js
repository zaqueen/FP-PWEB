"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _config = require("payload/config");
const _getLocalizedSortProperty = require("./getLocalizedSortProperty");
const config = {
    localization: {
        locales: [
            'en',
            'es'
        ]
    }
};
describe('get localized sort property', ()=>{
    it('passes through a non-localized sort property', ()=>{
        const result = (0, _getLocalizedSortProperty.getLocalizedSortProperty)({
            segments: [
                'title'
            ],
            config: (0, _config.sanitizeConfig)(config),
            fields: [
                {
                    name: 'title',
                    type: 'text'
                }
            ],
            locale: 'en'
        });
        expect(result).toStrictEqual('title');
    });
    it('properly localizes an un-localized sort property', ()=>{
        const result = (0, _getLocalizedSortProperty.getLocalizedSortProperty)({
            segments: [
                'title'
            ],
            config: (0, _config.sanitizeConfig)(config),
            fields: [
                {
                    name: 'title',
                    type: 'text',
                    localized: true
                }
            ],
            locale: 'en'
        });
        expect(result).toStrictEqual('title.en');
    });
    it('keeps specifically asked-for localized sort properties', ()=>{
        const result = (0, _getLocalizedSortProperty.getLocalizedSortProperty)({
            segments: [
                'title',
                'es'
            ],
            config: (0, _config.sanitizeConfig)(config),
            fields: [
                {
                    name: 'title',
                    type: 'text',
                    localized: true
                }
            ],
            locale: 'en'
        });
        expect(result).toStrictEqual('title.es');
    });
    it('properly localizes nested sort properties', ()=>{
        const result = (0, _getLocalizedSortProperty.getLocalizedSortProperty)({
            segments: [
                'group',
                'title'
            ],
            config: (0, _config.sanitizeConfig)(config),
            fields: [
                {
                    name: 'group',
                    type: 'group',
                    fields: [
                        {
                            name: 'title',
                            type: 'text',
                            localized: true
                        }
                    ]
                }
            ],
            locale: 'en'
        });
        expect(result).toStrictEqual('group.title.en');
    });
    it('keeps requested locale with nested sort properties', ()=>{
        const result = (0, _getLocalizedSortProperty.getLocalizedSortProperty)({
            segments: [
                'group',
                'title',
                'es'
            ],
            config: (0, _config.sanitizeConfig)(config),
            fields: [
                {
                    name: 'group',
                    type: 'group',
                    fields: [
                        {
                            name: 'title',
                            type: 'text',
                            localized: true
                        }
                    ]
                }
            ],
            locale: 'en'
        });
        expect(result).toStrictEqual('group.title.es');
    });
    it('properly localizes field within row', ()=>{
        const result = (0, _getLocalizedSortProperty.getLocalizedSortProperty)({
            segments: [
                'title'
            ],
            config: (0, _config.sanitizeConfig)(config),
            fields: [
                {
                    type: 'row',
                    fields: [
                        {
                            name: 'title',
                            type: 'text',
                            localized: true
                        }
                    ]
                }
            ],
            locale: 'en'
        });
        expect(result).toStrictEqual('title.en');
    });
    it('properly localizes field within named tab', ()=>{
        const result = (0, _getLocalizedSortProperty.getLocalizedSortProperty)({
            segments: [
                'tab',
                'title'
            ],
            config: (0, _config.sanitizeConfig)(config),
            fields: [
                {
                    type: 'tabs',
                    tabs: [
                        {
                            name: 'tab',
                            fields: [
                                {
                                    name: 'title',
                                    type: 'text',
                                    localized: true
                                }
                            ]
                        }
                    ]
                }
            ],
            locale: 'en'
        });
        expect(result).toStrictEqual('tab.title.en');
    });
    it('properly localizes field within unnamed tab', ()=>{
        const result = (0, _getLocalizedSortProperty.getLocalizedSortProperty)({
            segments: [
                'title'
            ],
            config: (0, _config.sanitizeConfig)(config),
            fields: [
                {
                    type: 'tabs',
                    tabs: [
                        {
                            label: 'Tab',
                            fields: [
                                {
                                    name: 'title',
                                    type: 'text',
                                    localized: true
                                }
                            ]
                        }
                    ]
                }
            ],
            locale: 'en'
        });
        expect(result).toStrictEqual('title.en');
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9xdWVyaWVzL2dldExvY2FsaXplZFNvcnRQcm9wZXJ0eS5zcGVjLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNhbml0aXplQ29uZmlnIH0gZnJvbSAncGF5bG9hZC9jb25maWcnXG5pbXBvcnQgeyBDb25maWcgfSBmcm9tICdwYXlsb2FkL2NvbmZpZydcbmltcG9ydCB7IGdldExvY2FsaXplZFNvcnRQcm9wZXJ0eSB9IGZyb20gJy4vZ2V0TG9jYWxpemVkU29ydFByb3BlcnR5J1xuXG5jb25zdCBjb25maWcgPSB7XG4gIGxvY2FsaXphdGlvbjoge1xuICAgIGxvY2FsZXM6IFsnZW4nLCAnZXMnXSxcbiAgfSxcbn0gYXMgQ29uZmlnXG5cbmRlc2NyaWJlKCdnZXQgbG9jYWxpemVkIHNvcnQgcHJvcGVydHknLCAoKSA9PiB7XG4gIGl0KCdwYXNzZXMgdGhyb3VnaCBhIG5vbi1sb2NhbGl6ZWQgc29ydCBwcm9wZXJ0eScsICgpID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSBnZXRMb2NhbGl6ZWRTb3J0UHJvcGVydHkoe1xuICAgICAgc2VnbWVudHM6IFsndGl0bGUnXSxcbiAgICAgIGNvbmZpZzogc2FuaXRpemVDb25maWcoY29uZmlnKSxcbiAgICAgIGZpZWxkczogW1xuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogJ3RpdGxlJyxcbiAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgbG9jYWxlOiAnZW4nLFxuICAgIH0pXG5cbiAgICBleHBlY3QocmVzdWx0KS50b1N0cmljdEVxdWFsKCd0aXRsZScpXG4gIH0pXG5cbiAgaXQoJ3Byb3Blcmx5IGxvY2FsaXplcyBhbiB1bi1sb2NhbGl6ZWQgc29ydCBwcm9wZXJ0eScsICgpID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSBnZXRMb2NhbGl6ZWRTb3J0UHJvcGVydHkoe1xuICAgICAgc2VnbWVudHM6IFsndGl0bGUnXSxcbiAgICAgIGNvbmZpZzogc2FuaXRpemVDb25maWcoY29uZmlnKSxcbiAgICAgIGZpZWxkczogW1xuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogJ3RpdGxlJyxcbiAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgbG9jYWxpemVkOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIGxvY2FsZTogJ2VuJyxcbiAgICB9KVxuXG4gICAgZXhwZWN0KHJlc3VsdCkudG9TdHJpY3RFcXVhbCgndGl0bGUuZW4nKVxuICB9KVxuXG4gIGl0KCdrZWVwcyBzcGVjaWZpY2FsbHkgYXNrZWQtZm9yIGxvY2FsaXplZCBzb3J0IHByb3BlcnRpZXMnLCAoKSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gZ2V0TG9jYWxpemVkU29ydFByb3BlcnR5KHtcbiAgICAgIHNlZ21lbnRzOiBbJ3RpdGxlJywgJ2VzJ10sXG4gICAgICBjb25maWc6IHNhbml0aXplQ29uZmlnKGNvbmZpZyksXG4gICAgICBmaWVsZHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6ICd0aXRsZScsXG4gICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgIGxvY2FsaXplZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBsb2NhbGU6ICdlbicsXG4gICAgfSlcblxuICAgIGV4cGVjdChyZXN1bHQpLnRvU3RyaWN0RXF1YWwoJ3RpdGxlLmVzJylcbiAgfSlcblxuICBpdCgncHJvcGVybHkgbG9jYWxpemVzIG5lc3RlZCBzb3J0IHByb3BlcnRpZXMnLCAoKSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gZ2V0TG9jYWxpemVkU29ydFByb3BlcnR5KHtcbiAgICAgIHNlZ21lbnRzOiBbJ2dyb3VwJywgJ3RpdGxlJ10sXG4gICAgICBjb25maWc6IHNhbml0aXplQ29uZmlnKGNvbmZpZyksXG4gICAgICBmaWVsZHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6ICdncm91cCcsXG4gICAgICAgICAgdHlwZTogJ2dyb3VwJyxcbiAgICAgICAgICBmaWVsZHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbmFtZTogJ3RpdGxlJyxcbiAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICBsb2NhbGl6ZWQ6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgbG9jYWxlOiAnZW4nLFxuICAgIH0pXG5cbiAgICBleHBlY3QocmVzdWx0KS50b1N0cmljdEVxdWFsKCdncm91cC50aXRsZS5lbicpXG4gIH0pXG5cbiAgaXQoJ2tlZXBzIHJlcXVlc3RlZCBsb2NhbGUgd2l0aCBuZXN0ZWQgc29ydCBwcm9wZXJ0aWVzJywgKCkgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGdldExvY2FsaXplZFNvcnRQcm9wZXJ0eSh7XG4gICAgICBzZWdtZW50czogWydncm91cCcsICd0aXRsZScsICdlcyddLFxuICAgICAgY29uZmlnOiBzYW5pdGl6ZUNvbmZpZyhjb25maWcpLFxuICAgICAgZmllbGRzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBuYW1lOiAnZ3JvdXAnLFxuICAgICAgICAgIHR5cGU6ICdncm91cCcsXG4gICAgICAgICAgZmllbGRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG5hbWU6ICd0aXRsZScsXG4gICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgbG9jYWxpemVkOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIGxvY2FsZTogJ2VuJyxcbiAgICB9KVxuXG4gICAgZXhwZWN0KHJlc3VsdCkudG9TdHJpY3RFcXVhbCgnZ3JvdXAudGl0bGUuZXMnKVxuICB9KVxuXG4gIGl0KCdwcm9wZXJseSBsb2NhbGl6ZXMgZmllbGQgd2l0aGluIHJvdycsICgpID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSBnZXRMb2NhbGl6ZWRTb3J0UHJvcGVydHkoe1xuICAgICAgc2VnbWVudHM6IFsndGl0bGUnXSxcbiAgICAgIGNvbmZpZzogc2FuaXRpemVDb25maWcoY29uZmlnKSxcbiAgICAgIGZpZWxkczogW1xuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogJ3JvdycsXG4gICAgICAgICAgZmllbGRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG5hbWU6ICd0aXRsZScsXG4gICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgbG9jYWxpemVkOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIGxvY2FsZTogJ2VuJyxcbiAgICB9KVxuXG4gICAgZXhwZWN0KHJlc3VsdCkudG9TdHJpY3RFcXVhbCgndGl0bGUuZW4nKVxuICB9KVxuXG4gIGl0KCdwcm9wZXJseSBsb2NhbGl6ZXMgZmllbGQgd2l0aGluIG5hbWVkIHRhYicsICgpID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSBnZXRMb2NhbGl6ZWRTb3J0UHJvcGVydHkoe1xuICAgICAgc2VnbWVudHM6IFsndGFiJywgJ3RpdGxlJ10sXG4gICAgICBjb25maWc6IHNhbml0aXplQ29uZmlnKGNvbmZpZyksXG4gICAgICBmaWVsZHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICd0YWJzJyxcbiAgICAgICAgICB0YWJzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG5hbWU6ICd0YWInLFxuICAgICAgICAgICAgICBmaWVsZHM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiAndGl0bGUnLFxuICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgICAgbG9jYWxpemVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgbG9jYWxlOiAnZW4nLFxuICAgIH0pXG5cbiAgICBleHBlY3QocmVzdWx0KS50b1N0cmljdEVxdWFsKCd0YWIudGl0bGUuZW4nKVxuICB9KVxuXG4gIGl0KCdwcm9wZXJseSBsb2NhbGl6ZXMgZmllbGQgd2l0aGluIHVubmFtZWQgdGFiJywgKCkgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGdldExvY2FsaXplZFNvcnRQcm9wZXJ0eSh7XG4gICAgICBzZWdtZW50czogWyd0aXRsZSddLFxuICAgICAgY29uZmlnOiBzYW5pdGl6ZUNvbmZpZyhjb25maWcpLFxuICAgICAgZmllbGRzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAndGFicycsXG4gICAgICAgICAgdGFiczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBsYWJlbDogJ1RhYicsXG4gICAgICAgICAgICAgIGZpZWxkczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIG5hbWU6ICd0aXRsZScsXG4gICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgICBsb2NhbGl6ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBsb2NhbGU6ICdlbicsXG4gICAgfSlcblxuICAgIGV4cGVjdChyZXN1bHQpLnRvU3RyaWN0RXF1YWwoJ3RpdGxlLmVuJylcbiAgfSlcbn0pXG4iXSwibmFtZXMiOlsiY29uZmlnIiwibG9jYWxpemF0aW9uIiwibG9jYWxlcyIsImRlc2NyaWJlIiwiaXQiLCJyZXN1bHQiLCJnZXRMb2NhbGl6ZWRTb3J0UHJvcGVydHkiLCJzZWdtZW50cyIsInNhbml0aXplQ29uZmlnIiwiZmllbGRzIiwibmFtZSIsInR5cGUi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