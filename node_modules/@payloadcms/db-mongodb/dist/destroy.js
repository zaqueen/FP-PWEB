"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "destroy", {
    enumerable: true,
    get: function() {
        return destroy;
    }
});
const _mongoose = /*#__PURE__*/ _interop_require_default(require("mongoose"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const destroy = async function destroy() {
    if (this.mongoMemoryServer) {
        await _mongoose.default.connection.dropDatabase();
        await _mongoose.default.connection.close();
        await this.mongoMemoryServer.stop();
    } else {
        await _mongoose.default.connection.close();
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9kZXN0cm95LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgRGVzdHJveSB9IGZyb20gJ3BheWxvYWQvZGF0YWJhc2UnXG5cbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcblxuaW1wb3J0IHR5cGUgeyBNb25nb29zZUFkYXB0ZXIgfSBmcm9tICcuL2luZGV4J1xuXG5leHBvcnQgY29uc3QgZGVzdHJveTogRGVzdHJveSA9IGFzeW5jIGZ1bmN0aW9uIGRlc3Ryb3kodGhpczogTW9uZ29vc2VBZGFwdGVyKSB7XG4gIGlmICh0aGlzLm1vbmdvTWVtb3J5U2VydmVyKSB7XG4gICAgYXdhaXQgbW9uZ29vc2UuY29ubmVjdGlvbi5kcm9wRGF0YWJhc2UoKVxuICAgIGF3YWl0IG1vbmdvb3NlLmNvbm5lY3Rpb24uY2xvc2UoKVxuICAgIGF3YWl0IHRoaXMubW9uZ29NZW1vcnlTZXJ2ZXIuc3RvcCgpXG4gIH0gZWxzZSB7XG4gICAgYXdhaXQgbW9uZ29vc2UuY29ubmVjdGlvbi5jbG9zZSgpXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJkZXN0cm95IiwibW9uZ29NZW1vcnlTZXJ2ZXIiLCJtb25nb29zZSIsImNvbm5lY3Rpb24iLCJkcm9wRGF0YWJhc2UiLCJjbG9zZSIsInN0b3AiXSwibWFwcGluZ3MiOiI7Ozs7K0JBTWFBOzs7ZUFBQUE7OztpRUFKUTs7Ozs7O0FBSWQsTUFBTUEsVUFBbUIsZUFBZUE7SUFDN0MsSUFBSSxJQUFJLENBQUNDLGlCQUFpQixFQUFFO1FBQzFCLE1BQU1DLGlCQUFRLENBQUNDLFVBQVUsQ0FBQ0MsWUFBWTtRQUN0QyxNQUFNRixpQkFBUSxDQUFDQyxVQUFVLENBQUNFLEtBQUs7UUFDL0IsTUFBTSxJQUFJLENBQUNKLGlCQUFpQixDQUFDSyxJQUFJO0lBQ25DLE9BQU87UUFDTCxNQUFNSixpQkFBUSxDQUFDQyxVQUFVLENBQUNFLEtBQUs7SUFDakM7QUFDRiJ9