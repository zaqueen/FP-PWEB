"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "buildAdmin", {
    enumerable: true,
    get: function() {
        return buildAdmin;
    }
});
const _webpack = /*#__PURE__*/ _interop_require_default(require("webpack"));
const _prod = require("../configs/prod");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const buildAdmin = async ({ payloadConfig })=>{
    try {
        const webpackConfig = (0, _prod.getProdConfig)(payloadConfig);
        (0, _webpack.default)(webpackConfig, (err, stats)=>{
            if (err || stats.hasErrors()) {
                // Handle errors here
                if (stats) {
                    console.error(stats.toString({
                        chunks: false,
                        colors: true
                    }));
                } else {
                    console.error(err.message);
                }
            }
        });
    } catch (err) {
        console.error(err);
        throw new Error('Error: there was an error building the webpack prod config.');
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zY3JpcHRzL2J1aWxkLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgU2FuaXRpemVkQ29uZmlnIH0gZnJvbSAncGF5bG9hZC9jb25maWcnXG5cbmltcG9ydCB3ZWJwYWNrIGZyb20gJ3dlYnBhY2snXG5cbmltcG9ydCB7IGdldFByb2RDb25maWcgfSBmcm9tICcuLi9jb25maWdzL3Byb2QnXG5cbnR5cGUgQnVpbGRBZG1pblR5cGUgPSAob3B0aW9uczogeyBwYXlsb2FkQ29uZmlnOiBTYW5pdGl6ZWRDb25maWcgfSkgPT4gUHJvbWlzZTx2b2lkPlxuZXhwb3J0IGNvbnN0IGJ1aWxkQWRtaW46IEJ1aWxkQWRtaW5UeXBlID0gYXN5bmMgKHsgcGF5bG9hZENvbmZpZyB9KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3Qgd2VicGFja0NvbmZpZyA9IGdldFByb2RDb25maWcocGF5bG9hZENvbmZpZylcbiAgICB3ZWJwYWNrKHdlYnBhY2tDb25maWcsIChlcnIsIHN0YXRzKSA9PiB7XG4gICAgICBpZiAoZXJyIHx8IHN0YXRzLmhhc0Vycm9ycygpKSB7XG4gICAgICAgIC8vIEhhbmRsZSBlcnJvcnMgaGVyZVxuXG4gICAgICAgIGlmIChzdGF0cykge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBzdGF0cy50b1N0cmluZyh7XG4gICAgICAgICAgICAgIGNodW5rczogZmFsc2UsXG4gICAgICAgICAgICAgIGNvbG9yczogdHJ1ZSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGVyci5tZXNzYWdlKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpXG4gICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvcjogdGhlcmUgd2FzIGFuIGVycm9yIGJ1aWxkaW5nIHRoZSB3ZWJwYWNrIHByb2QgY29uZmlnLicpXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJidWlsZEFkbWluIiwicGF5bG9hZENvbmZpZyIsIndlYnBhY2tDb25maWciLCJnZXRQcm9kQ29uZmlnIiwid2VicGFjayIsImVyciIsInN0YXRzIiwiaGFzRXJyb3JzIiwiY29uc29sZSIsImVycm9yIiwidG9TdHJpbmciLCJjaHVua3MiLCJjb2xvcnMiLCJtZXNzYWdlIiwiRXJyb3IiXSwibWFwcGluZ3MiOiI7Ozs7K0JBT2FBOzs7ZUFBQUE7OztnRUFMTztzQkFFVTs7Ozs7O0FBR3ZCLE1BQU1BLGFBQTZCLE9BQU8sRUFBRUMsYUFBYSxFQUFFO0lBQ2hFLElBQUk7UUFDRixNQUFNQyxnQkFBZ0JDLElBQUFBLG1CQUFhLEVBQUNGO1FBQ3BDRyxJQUFBQSxnQkFBTyxFQUFDRixlQUFlLENBQUNHLEtBQUtDO1lBQzNCLElBQUlELE9BQU9DLE1BQU1DLFNBQVMsSUFBSTtnQkFDNUIscUJBQXFCO2dCQUVyQixJQUFJRCxPQUFPO29CQUNURSxRQUFRQyxLQUFLLENBQ1hILE1BQU1JLFFBQVEsQ0FBQzt3QkFDYkMsUUFBUTt3QkFDUkMsUUFBUTtvQkFDVjtnQkFFSixPQUFPO29CQUNMSixRQUFRQyxLQUFLLENBQUNKLElBQUlRLE9BQU87Z0JBQzNCO1lBQ0Y7UUFDRjtJQUNGLEVBQUUsT0FBT1IsS0FBSztRQUNaRyxRQUFRQyxLQUFLLENBQUNKO1FBQ2QsTUFBTSxJQUFJUyxNQUFNO0lBQ2xCO0FBQ0YifQ==