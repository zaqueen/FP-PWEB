'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "LinkDrawer", {
    enumerable: true,
    get: function() {
        return LinkDrawer;
    }
});
const _elements = require("payload/components/elements");
const _forms = require("payload/components/forms");
const _hooks = require("payload/components/hooks");
const _utilities = require("payload/components/utilities");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _reacti18next = require("react-i18next");
require("./index.scss");
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {};
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
const baseClass = 'rich-text-link-edit-modal';
const LinkDrawer = ({ drawerSlug, fieldSchema, handleModalSubmit, initialState })=>{
    const { t } = (0, _reacti18next.useTranslation)('fields');
    return /*#__PURE__*/ _react.default.createElement(_elements.Drawer, {
        className: baseClass,
        slug: drawerSlug,
        title: t('editLink')
    }, /*#__PURE__*/ _react.default.createElement(_forms.Form, {
        fields: fieldSchema,
        initialState: initialState,
        onSubmit: handleModalSubmit
    }, /*#__PURE__*/ _react.default.createElement(_forms.RenderFields, {
        fieldSchema: fieldSchema,
        fieldTypes: _forms.fieldTypes,
        forceRender: true,
        readOnly: false
    }), /*#__PURE__*/ _react.default.createElement(LinkSubmit, null)));
};
const LinkSubmit = ()=>{
    const { t } = (0, _reacti18next.useTranslation)('fields');
    const ref = (0, _react.useRef)(null);
    const editDepth = (0, _utilities.useEditDepth)();
    (0, _hooks.useHotkey)({
        cmdCtrlKey: true,
        editDepth,
        keyCodes: [
            's'
        ]
    }, (e)=>{
        e.preventDefault();
        e.stopPropagation();
        if (ref?.current) {
            ref.current.click();
        }
    });
    return /*#__PURE__*/ _react.default.createElement(_forms.FormSubmit, {
        ref: ref
    }, t('general:submit'));
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9maWVsZC9lbGVtZW50cy9saW5rL0xpbmtEcmF3ZXIvaW5kZXgudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgeyBEcmF3ZXIgfSBmcm9tICdwYXlsb2FkL2NvbXBvbmVudHMvZWxlbWVudHMnXG5pbXBvcnQgeyBGb3JtLCBGb3JtU3VibWl0LCBSZW5kZXJGaWVsZHMgfSBmcm9tICdwYXlsb2FkL2NvbXBvbmVudHMvZm9ybXMnXG5pbXBvcnQgeyBmaWVsZFR5cGVzIH0gZnJvbSAncGF5bG9hZC9jb21wb25lbnRzL2Zvcm1zJ1xuaW1wb3J0IHsgdXNlSG90a2V5IH0gZnJvbSAncGF5bG9hZC9jb21wb25lbnRzL2hvb2tzJ1xuaW1wb3J0IHsgdXNlRWRpdERlcHRoIH0gZnJvbSAncGF5bG9hZC9jb21wb25lbnRzL3V0aWxpdGllcydcbmltcG9ydCBSZWFjdCwgeyB1c2VSZWYgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCdcblxuaW1wb3J0IHR5cGUgeyBQcm9wcyB9IGZyb20gJy4vdHlwZXMnXG5cbmltcG9ydCAnLi9pbmRleC5zY3NzJ1xuXG5jb25zdCBiYXNlQ2xhc3MgPSAncmljaC10ZXh0LWxpbmstZWRpdC1tb2RhbCdcblxuZXhwb3J0IGNvbnN0IExpbmtEcmF3ZXI6IFJlYWN0LkZDPFByb3BzPiA9ICh7XG4gIGRyYXdlclNsdWcsXG4gIGZpZWxkU2NoZW1hLFxuICBoYW5kbGVNb2RhbFN1Ym1pdCxcbiAgaW5pdGlhbFN0YXRlLFxufSkgPT4ge1xuICBjb25zdCB7IHQgfSA9IHVzZVRyYW5zbGF0aW9uKCdmaWVsZHMnKVxuXG4gIHJldHVybiAoXG4gICAgPERyYXdlciBjbGFzc05hbWU9e2Jhc2VDbGFzc30gc2x1Zz17ZHJhd2VyU2x1Z30gdGl0bGU9e3QoJ2VkaXRMaW5rJyl9PlxuICAgICAgPEZvcm0gZmllbGRzPXtmaWVsZFNjaGVtYX0gaW5pdGlhbFN0YXRlPXtpbml0aWFsU3RhdGV9IG9uU3VibWl0PXtoYW5kbGVNb2RhbFN1Ym1pdH0+XG4gICAgICAgIDxSZW5kZXJGaWVsZHNcbiAgICAgICAgICBmaWVsZFNjaGVtYT17ZmllbGRTY2hlbWF9XG4gICAgICAgICAgZmllbGRUeXBlcz17ZmllbGRUeXBlc31cbiAgICAgICAgICBmb3JjZVJlbmRlclxuICAgICAgICAgIHJlYWRPbmx5PXtmYWxzZX1cbiAgICAgICAgLz5cbiAgICAgICAgPExpbmtTdWJtaXQgLz5cbiAgICAgIDwvRm9ybT5cbiAgICA8L0RyYXdlcj5cbiAgKVxufVxuXG5jb25zdCBMaW5rU3VibWl0OiBSZWFjdC5GQyA9ICgpID0+IHtcbiAgY29uc3QgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbignZmllbGRzJylcbiAgY29uc3QgcmVmID0gdXNlUmVmPEhUTUxCdXR0b25FbGVtZW50PihudWxsKVxuICBjb25zdCBlZGl0RGVwdGggPSB1c2VFZGl0RGVwdGgoKVxuXG4gIHVzZUhvdGtleSh7IGNtZEN0cmxLZXk6IHRydWUsIGVkaXREZXB0aCwga2V5Q29kZXM6IFsncyddIH0sIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgIGlmIChyZWY/LmN1cnJlbnQpIHtcbiAgICAgIHJlZi5jdXJyZW50LmNsaWNrKClcbiAgICB9XG4gIH0pXG5cbiAgcmV0dXJuIDxGb3JtU3VibWl0IHJlZj17cmVmfT57dCgnZ2VuZXJhbDpzdWJtaXQnKX08L0Zvcm1TdWJtaXQ+XG59XG4iXSwibmFtZXMiOlsiTGlua0RyYXdlciIsImJhc2VDbGFzcyIsImRyYXdlclNsdWciLCJmaWVsZFNjaGVtYSIsImhhbmRsZU1vZGFsU3VibWl0IiwiaW5pdGlhbFN0YXRlIiwidCIsInVzZVRyYW5zbGF0aW9uIiwiRHJhd2VyIiwiY2xhc3NOYW1lIiwic2x1ZyIsInRpdGxlIiwiRm9ybSIsImZpZWxkcyIsIm9uU3VibWl0IiwiUmVuZGVyRmllbGRzIiwiZmllbGRUeXBlcyIsImZvcmNlUmVuZGVyIiwicmVhZE9ubHkiLCJMaW5rU3VibWl0IiwicmVmIiwidXNlUmVmIiwiZWRpdERlcHRoIiwidXNlRWRpdERlcHRoIiwidXNlSG90a2V5IiwiY21kQ3RybEtleSIsImtleUNvZGVzIiwiZSIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiY3VycmVudCIsImNsaWNrIiwiRm9ybVN1Ym1pdCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OytCQWdCYUE7OztlQUFBQTs7OzBCQWRVO3VCQUN3Qjt1QkFFckI7MkJBQ0c7K0RBQ0M7OEJBQ0M7UUFJeEI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFUCxNQUFNQyxZQUFZO0FBRVgsTUFBTUQsYUFBOEIsQ0FBQyxFQUMxQ0UsVUFBVSxFQUNWQyxXQUFXLEVBQ1hDLGlCQUFpQixFQUNqQkMsWUFBWSxFQUNiO0lBQ0MsTUFBTSxFQUFFQyxDQUFDLEVBQUUsR0FBR0MsSUFBQUEsNEJBQWMsRUFBQztJQUU3QixxQkFDRSw2QkFBQ0MsZ0JBQU07UUFBQ0MsV0FBV1I7UUFBV1MsTUFBTVI7UUFBWVMsT0FBT0wsRUFBRTtxQkFDdkQsNkJBQUNNLFdBQUk7UUFBQ0MsUUFBUVY7UUFBYUUsY0FBY0E7UUFBY1MsVUFBVVY7cUJBQy9ELDZCQUFDVyxtQkFBWTtRQUNYWixhQUFhQTtRQUNiYSxZQUFZQSxpQkFBVTtRQUN0QkMsYUFBQUE7UUFDQUMsVUFBVTtzQkFFWiw2QkFBQ0M7QUFJVDtBQUVBLE1BQU1BLGFBQXVCO0lBQzNCLE1BQU0sRUFBRWIsQ0FBQyxFQUFFLEdBQUdDLElBQUFBLDRCQUFjLEVBQUM7SUFDN0IsTUFBTWEsTUFBTUMsSUFBQUEsYUFBTSxFQUFvQjtJQUN0QyxNQUFNQyxZQUFZQyxJQUFBQSx1QkFBWTtJQUU5QkMsSUFBQUEsZ0JBQVMsRUFBQztRQUFFQyxZQUFZO1FBQU1IO1FBQVdJLFVBQVU7WUFBQztTQUFJO0lBQUMsR0FBRyxDQUFDQztRQUMzREEsRUFBRUMsY0FBYztRQUNoQkQsRUFBRUUsZUFBZTtRQUNqQixJQUFJVCxLQUFLVSxTQUFTO1lBQ2hCVixJQUFJVSxPQUFPLENBQUNDLEtBQUs7UUFDbkI7SUFDRjtJQUVBLHFCQUFPLDZCQUFDQyxpQkFBVTtRQUFDWixLQUFLQTtPQUFNZCxFQUFFO0FBQ2xDIn0=