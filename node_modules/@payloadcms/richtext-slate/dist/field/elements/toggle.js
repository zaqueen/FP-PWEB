'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return _default;
    }
});
const _slate = require("slate");
const _slatereact = require("slate-react");
const _isActive = /*#__PURE__*/ _interop_require_default(require("./isActive"));
const _isWithinListItem = require("./isWithinListItem");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const toggleElement = (editor, format, blockType = 'type')=>{
    const isActive = (0, _isActive.default)(editor, format, blockType);
    const formatByBlockType = {
        [blockType]: format
    };
    const isWithinLI = (0, _isWithinListItem.isWithinListItem)(editor);
    if (isActive) {
        formatByBlockType[blockType] = undefined;
    }
    if (!isActive && isWithinLI && blockType !== 'textAlign') {
        const block = {
            children: [],
            type: 'li'
        };
        _slate.Transforms.wrapNodes(editor, block, {
            at: _slate.Editor.unhangRange(editor, editor.selection)
        });
    }
    _slate.Transforms.setNodes(editor, {
        [blockType]: formatByBlockType[blockType]
    }, {
        at: _slate.Editor.unhangRange(editor, editor.selection)
    });
    _slatereact.ReactEditor.focus(editor);
};
const _default = toggleElement;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9maWVsZC9lbGVtZW50cy90b2dnbGUudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuaW1wb3J0IHsgRWRpdG9yLCBUcmFuc2Zvcm1zIH0gZnJvbSAnc2xhdGUnXG5pbXBvcnQgeyBSZWFjdEVkaXRvciB9IGZyb20gJ3NsYXRlLXJlYWN0J1xuXG5pbXBvcnQgaXNFbGVtZW50QWN0aXZlIGZyb20gJy4vaXNBY3RpdmUnXG5pbXBvcnQgeyBpc1dpdGhpbkxpc3RJdGVtIH0gZnJvbSAnLi9pc1dpdGhpbkxpc3RJdGVtJ1xuXG5jb25zdCB0b2dnbGVFbGVtZW50ID0gKGVkaXRvcjogRWRpdG9yLCBmb3JtYXQ6IHN0cmluZywgYmxvY2tUeXBlID0gJ3R5cGUnKTogdm9pZCA9PiB7XG4gIGNvbnN0IGlzQWN0aXZlID0gaXNFbGVtZW50QWN0aXZlKGVkaXRvciwgZm9ybWF0LCBibG9ja1R5cGUpXG5cbiAgY29uc3QgZm9ybWF0QnlCbG9ja1R5cGUgPSB7XG4gICAgW2Jsb2NrVHlwZV06IGZvcm1hdCxcbiAgfVxuXG4gIGNvbnN0IGlzV2l0aGluTEkgPSBpc1dpdGhpbkxpc3RJdGVtKGVkaXRvcilcblxuICBpZiAoaXNBY3RpdmUpIHtcbiAgICBmb3JtYXRCeUJsb2NrVHlwZVtibG9ja1R5cGVdID0gdW5kZWZpbmVkXG4gIH1cblxuICBpZiAoIWlzQWN0aXZlICYmIGlzV2l0aGluTEkgJiYgYmxvY2tUeXBlICE9PSAndGV4dEFsaWduJykge1xuICAgIGNvbnN0IGJsb2NrID0geyBjaGlsZHJlbjogW10sIHR5cGU6ICdsaScgfVxuICAgIFRyYW5zZm9ybXMud3JhcE5vZGVzKGVkaXRvciwgYmxvY2ssIHtcbiAgICAgIGF0OiBFZGl0b3IudW5oYW5nUmFuZ2UoZWRpdG9yLCBlZGl0b3Iuc2VsZWN0aW9uKSxcbiAgICB9KVxuICB9XG5cbiAgVHJhbnNmb3Jtcy5zZXROb2RlcyhcbiAgICBlZGl0b3IsXG4gICAgeyBbYmxvY2tUeXBlXTogZm9ybWF0QnlCbG9ja1R5cGVbYmxvY2tUeXBlXSB9LFxuICAgIHtcbiAgICAgIGF0OiBFZGl0b3IudW5oYW5nUmFuZ2UoZWRpdG9yLCBlZGl0b3Iuc2VsZWN0aW9uKSxcbiAgICB9LFxuICApXG5cbiAgUmVhY3RFZGl0b3IuZm9jdXMoZWRpdG9yKVxufVxuXG5leHBvcnQgZGVmYXVsdCB0b2dnbGVFbGVtZW50XG4iXSwibmFtZXMiOlsidG9nZ2xlRWxlbWVudCIsImVkaXRvciIsImZvcm1hdCIsImJsb2NrVHlwZSIsImlzQWN0aXZlIiwiaXNFbGVtZW50QWN0aXZlIiwiZm9ybWF0QnlCbG9ja1R5cGUiLCJpc1dpdGhpbkxJIiwiaXNXaXRoaW5MaXN0SXRlbSIsInVuZGVmaW5lZCIsImJsb2NrIiwiY2hpbGRyZW4iLCJ0eXBlIiwiVHJhbnNmb3JtcyIsIndyYXBOb2RlcyIsImF0IiwiRWRpdG9yIiwidW5oYW5nUmFuZ2UiLCJzZWxlY3Rpb24iLCJzZXROb2RlcyIsIlJlYWN0RWRpdG9yIiwiZm9jdXMiXSwibWFwcGluZ3MiOiJBQUFBOzs7OzsrQkFzQ0E7OztlQUFBOzs7dUJBckNtQzs0QkFDUDtpRUFFQTtrQ0FDSzs7Ozs7O0FBRWpDLE1BQU1BLGdCQUFnQixDQUFDQyxRQUFnQkMsUUFBZ0JDLFlBQVksTUFBTTtJQUN2RSxNQUFNQyxXQUFXQyxJQUFBQSxpQkFBZSxFQUFDSixRQUFRQyxRQUFRQztJQUVqRCxNQUFNRyxvQkFBb0I7UUFDeEIsQ0FBQ0gsVUFBVSxFQUFFRDtJQUNmO0lBRUEsTUFBTUssYUFBYUMsSUFBQUEsa0NBQWdCLEVBQUNQO0lBRXBDLElBQUlHLFVBQVU7UUFDWkUsaUJBQWlCLENBQUNILFVBQVUsR0FBR007SUFDakM7SUFFQSxJQUFJLENBQUNMLFlBQVlHLGNBQWNKLGNBQWMsYUFBYTtRQUN4RCxNQUFNTyxRQUFRO1lBQUVDLFVBQVUsRUFBRTtZQUFFQyxNQUFNO1FBQUs7UUFDekNDLGlCQUFVLENBQUNDLFNBQVMsQ0FBQ2IsUUFBUVMsT0FBTztZQUNsQ0ssSUFBSUMsYUFBTSxDQUFDQyxXQUFXLENBQUNoQixRQUFRQSxPQUFPaUIsU0FBUztRQUNqRDtJQUNGO0lBRUFMLGlCQUFVLENBQUNNLFFBQVEsQ0FDakJsQixRQUNBO1FBQUUsQ0FBQ0UsVUFBVSxFQUFFRyxpQkFBaUIsQ0FBQ0gsVUFBVTtJQUFDLEdBQzVDO1FBQ0VZLElBQUlDLGFBQU0sQ0FBQ0MsV0FBVyxDQUFDaEIsUUFBUUEsT0FBT2lCLFNBQVM7SUFDakQ7SUFHRkUsdUJBQVcsQ0FBQ0MsS0FBSyxDQUFDcEI7QUFDcEI7TUFFQSxXQUFlRCJ9