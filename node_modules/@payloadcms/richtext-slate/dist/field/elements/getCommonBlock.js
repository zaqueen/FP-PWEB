"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "getCommonBlock", {
    enumerable: true,
    get: function() {
        return getCommonBlock;
    }
});
const _slate = require("slate");
const _isBlockElement = require("./isBlockElement");
const getCommonBlock = (editor, match)=>{
    const range = _slate.Editor.unhangRange(editor, editor.selection, {
        voids: true
    });
    const [common, path] = _slate.Node.common(editor, range.anchor.path, range.focus.path);
    // eslint-disable-next-line @typescript-eslint/ban-ts-comment
    // @ts-ignore
    if ((0, _isBlockElement.isBlockElement)(editor, common) || _slate.Editor.isEditor(common)) {
        return [
            common,
            path
        ];
    }
    return _slate.Editor.above(editor, {
        at: path,
        match: match || ((n)=>(0, _isBlockElement.isBlockElement)(editor, n) || _slate.Editor.isEditor(n))
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9maWVsZC9lbGVtZW50cy9nZXRDb21tb25CbG9jay50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBOb2RlRW50cnksIE5vZGVNYXRjaCB9IGZyb20gJ3NsYXRlJ1xuXG5pbXBvcnQgeyBFZGl0b3IsIE5vZGUgfSBmcm9tICdzbGF0ZSdcblxuaW1wb3J0IHR5cGUgeyBFbGVtZW50Tm9kZSB9IGZyb20gJy4uLy4uL3R5cGVzJ1xuXG5pbXBvcnQgeyBpc0Jsb2NrRWxlbWVudCB9IGZyb20gJy4vaXNCbG9ja0VsZW1lbnQnXG5cbmV4cG9ydCBjb25zdCBnZXRDb21tb25CbG9jayA9IChlZGl0b3I6IEVkaXRvciwgbWF0Y2g/OiBOb2RlTWF0Y2g8Tm9kZT4pOiBOb2RlRW50cnk8Tm9kZT4gPT4ge1xuICBjb25zdCByYW5nZSA9IEVkaXRvci51bmhhbmdSYW5nZShlZGl0b3IsIGVkaXRvci5zZWxlY3Rpb24sIHsgdm9pZHM6IHRydWUgfSlcblxuICBjb25zdCBbY29tbW9uLCBwYXRoXSA9IE5vZGUuY29tbW9uKGVkaXRvciwgcmFuZ2UuYW5jaG9yLnBhdGgsIHJhbmdlLmZvY3VzLnBhdGgpXG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAvLyBAdHMtaWdub3JlXG4gIGlmIChpc0Jsb2NrRWxlbWVudChlZGl0b3IsIGNvbW1vbikgfHwgRWRpdG9yLmlzRWRpdG9yKGNvbW1vbikpIHtcbiAgICByZXR1cm4gW2NvbW1vbiwgcGF0aF1cbiAgfVxuXG4gIHJldHVybiBFZGl0b3IuYWJvdmUoZWRpdG9yLCB7XG4gICAgYXQ6IHBhdGgsXG4gICAgbWF0Y2g6IG1hdGNoIHx8ICgobjogRWxlbWVudE5vZGUpID0+IGlzQmxvY2tFbGVtZW50KGVkaXRvciwgbikgfHwgRWRpdG9yLmlzRWRpdG9yKG4pKSxcbiAgfSlcbn1cbiJdLCJuYW1lcyI6WyJnZXRDb21tb25CbG9jayIsImVkaXRvciIsIm1hdGNoIiwicmFuZ2UiLCJFZGl0b3IiLCJ1bmhhbmdSYW5nZSIsInNlbGVjdGlvbiIsInZvaWRzIiwiY29tbW9uIiwicGF0aCIsIk5vZGUiLCJhbmNob3IiLCJmb2N1cyIsImlzQmxvY2tFbGVtZW50IiwiaXNFZGl0b3IiLCJhYm92ZSIsImF0IiwibiJdLCJtYXBwaW5ncyI6Ijs7OzsrQkFRYUE7OztlQUFBQTs7O3VCQU5nQjtnQ0FJRTtBQUV4QixNQUFNQSxpQkFBaUIsQ0FBQ0MsUUFBZ0JDO0lBQzdDLE1BQU1DLFFBQVFDLGFBQU0sQ0FBQ0MsV0FBVyxDQUFDSixRQUFRQSxPQUFPSyxTQUFTLEVBQUU7UUFBRUMsT0FBTztJQUFLO0lBRXpFLE1BQU0sQ0FBQ0MsUUFBUUMsS0FBSyxHQUFHQyxXQUFJLENBQUNGLE1BQU0sQ0FBQ1AsUUFBUUUsTUFBTVEsTUFBTSxDQUFDRixJQUFJLEVBQUVOLE1BQU1TLEtBQUssQ0FBQ0gsSUFBSTtJQUU5RSw2REFBNkQ7SUFDN0QsYUFBYTtJQUNiLElBQUlJLElBQUFBLDhCQUFjLEVBQUNaLFFBQVFPLFdBQVdKLGFBQU0sQ0FBQ1UsUUFBUSxDQUFDTixTQUFTO1FBQzdELE9BQU87WUFBQ0E7WUFBUUM7U0FBSztJQUN2QjtJQUVBLE9BQU9MLGFBQU0sQ0FBQ1csS0FBSyxDQUFDZCxRQUFRO1FBQzFCZSxJQUFJUDtRQUNKUCxPQUFPQSxTQUFVLENBQUEsQ0FBQ2UsSUFBbUJKLElBQUFBLDhCQUFjLEVBQUNaLFFBQVFnQixNQUFNYixhQUFNLENBQUNVLFFBQVEsQ0FBQ0csRUFBQztJQUNyRjtBQUNGIn0=