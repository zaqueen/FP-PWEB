"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "populate", {
    enumerable: true,
    get: function() {
        return populate;
    }
});
const populate = async ({ id, collection, currentDepth, data, depth, key, overrideAccess, req, showHiddenFields })=>{
    const dataRef = data;
    const doc = await req.payloadDataLoader.load(JSON.stringify([
        req.transactionID,
        collection.config.slug,
        id,
        depth,
        currentDepth + 1,
        req.locale,
        req.fallbackLocale,
        typeof overrideAccess === 'undefined' ? false : overrideAccess,
        showHiddenFields
    ]));
    if (doc) {
        dataRef[key] = doc;
    } else {
        dataRef[key] = null;
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kYXRhL3BvcHVsYXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgUGF5bG9hZFJlcXVlc3QgfSBmcm9tICdwYXlsb2FkL3R5cGVzJ1xuaW1wb3J0IHR5cGUgeyBDb2xsZWN0aW9uLCBGaWVsZCwgUmljaFRleHRGaWVsZCB9IGZyb20gJ3BheWxvYWQvdHlwZXMnXG5cbmltcG9ydCB0eXBlIHsgQWRhcHRlckFyZ3VtZW50cyB9IGZyb20gJy4uL3R5cGVzJ1xuXG50eXBlIEFyZ3VtZW50cyA9IHtcbiAgY3VycmVudERlcHRoPzogbnVtYmVyXG4gIGRhdGE6IHVua25vd25cbiAgZGVwdGg6IG51bWJlclxuICBmaWVsZDogUmljaFRleHRGaWVsZDxhbnlbXSwgQWRhcHRlckFyZ3VtZW50cywgQWRhcHRlckFyZ3VtZW50cz5cbiAga2V5OiBudW1iZXIgfCBzdHJpbmdcbiAgb3ZlcnJpZGVBY2Nlc3M/OiBib29sZWFuXG4gIHJlcTogUGF5bG9hZFJlcXVlc3RcbiAgc2hvd0hpZGRlbkZpZWxkczogYm9vbGVhblxufVxuXG5leHBvcnQgY29uc3QgcG9wdWxhdGUgPSBhc3luYyAoe1xuICBpZCxcbiAgY29sbGVjdGlvbixcbiAgY3VycmVudERlcHRoLFxuICBkYXRhLFxuICBkZXB0aCxcbiAga2V5LFxuICBvdmVycmlkZUFjY2VzcyxcbiAgcmVxLFxuICBzaG93SGlkZGVuRmllbGRzLFxufTogT21pdDxBcmd1bWVudHMsICdmaWVsZCc+ICYge1xuICBjb2xsZWN0aW9uOiBDb2xsZWN0aW9uXG4gIGZpZWxkOiBGaWVsZFxuICBpZDogc3RyaW5nXG59KTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gIGNvbnN0IGRhdGFSZWYgPSBkYXRhIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+XG5cbiAgY29uc3QgZG9jID0gYXdhaXQgcmVxLnBheWxvYWREYXRhTG9hZGVyLmxvYWQoXG4gICAgSlNPTi5zdHJpbmdpZnkoW1xuICAgICAgcmVxLnRyYW5zYWN0aW9uSUQsXG4gICAgICBjb2xsZWN0aW9uLmNvbmZpZy5zbHVnLFxuICAgICAgaWQsXG4gICAgICBkZXB0aCxcbiAgICAgIGN1cnJlbnREZXB0aCArIDEsXG4gICAgICByZXEubG9jYWxlLFxuICAgICAgcmVxLmZhbGxiYWNrTG9jYWxlLFxuICAgICAgdHlwZW9mIG92ZXJyaWRlQWNjZXNzID09PSAndW5kZWZpbmVkJyA/IGZhbHNlIDogb3ZlcnJpZGVBY2Nlc3MsXG4gICAgICBzaG93SGlkZGVuRmllbGRzLFxuICAgIF0pLFxuICApXG5cbiAgaWYgKGRvYykge1xuICAgIGRhdGFSZWZba2V5XSA9IGRvY1xuICB9IGVsc2Uge1xuICAgIGRhdGFSZWZba2V5XSA9IG51bGxcbiAgfVxufVxuIl0sIm5hbWVzIjpbInBvcHVsYXRlIiwiaWQiLCJjb2xsZWN0aW9uIiwiY3VycmVudERlcHRoIiwiZGF0YSIsImRlcHRoIiwia2V5Iiwib3ZlcnJpZGVBY2Nlc3MiLCJyZXEiLCJzaG93SGlkZGVuRmllbGRzIiwiZGF0YVJlZiIsImRvYyIsInBheWxvYWREYXRhTG9hZGVyIiwibG9hZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0cmFuc2FjdGlvbklEIiwiY29uZmlnIiwic2x1ZyIsImxvY2FsZSIsImZhbGxiYWNrTG9jYWxlIl0sIm1hcHBpbmdzIjoiOzs7OytCQWdCYUE7OztlQUFBQTs7O0FBQU4sTUFBTUEsV0FBVyxPQUFPLEVBQzdCQyxFQUFFLEVBQ0ZDLFVBQVUsRUFDVkMsWUFBWSxFQUNaQyxJQUFJLEVBQ0pDLEtBQUssRUFDTEMsR0FBRyxFQUNIQyxjQUFjLEVBQ2RDLEdBQUcsRUFDSEMsZ0JBQWdCLEVBS2pCO0lBQ0MsTUFBTUMsVUFBVU47SUFFaEIsTUFBTU8sTUFBTSxNQUFNSCxJQUFJSSxpQkFBaUIsQ0FBQ0MsSUFBSSxDQUMxQ0MsS0FBS0MsU0FBUyxDQUFDO1FBQ2JQLElBQUlRLGFBQWE7UUFDakJkLFdBQVdlLE1BQU0sQ0FBQ0MsSUFBSTtRQUN0QmpCO1FBQ0FJO1FBQ0FGLGVBQWU7UUFDZkssSUFBSVcsTUFBTTtRQUNWWCxJQUFJWSxjQUFjO1FBQ2xCLE9BQU9iLG1CQUFtQixjQUFjLFFBQVFBO1FBQ2hERTtLQUNEO0lBR0gsSUFBSUUsS0FBSztRQUNQRCxPQUFPLENBQUNKLElBQUksR0FBR0s7SUFDakIsT0FBTztRQUNMRCxPQUFPLENBQUNKLElBQUksR0FBRztJQUNqQjtBQUNGIn0=